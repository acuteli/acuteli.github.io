<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Linux | Hexo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="第一天###linux 命令 ####ls 命令1234567ls -l   文件或者目录下面的内容ls      显示目录下的内容ls -l   长格式显示文件的内容 #ls -l+名称显示信息ls -hl  显示文件的大小 单位为 K M Gls -a   显示所有文件 包括隐藏文件.ls -all 长格式显示所有">
<meta name="keywords" content="linux">
<meta property="og:type" content="article">
<meta property="og:title" content="Linux">
<meta property="og:url" content="http://yoursite.com/2017/05/22/linux总结/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:description" content="第一天###linux 命令 ####ls 命令1234567ls -l   文件或者目录下面的内容ls      显示目录下的内容ls -l   长格式显示文件的内容 #ls -l+名称显示信息ls -hl  显示文件的大小 单位为 K M Gls -a   显示所有文件 包括隐藏文件.ls -all 长格式显示所有的文件信息 ls -ld  显示目录的属性 ###目录的操作命令 ###cd 命">
<meta property="og:updated_time" content="2017-11-26T08:19:54.403Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Linux">
<meta name="twitter:description" content="第一天###linux 命令 ####ls 命令1234567ls -l   文件或者目录下面的内容ls      显示目录下的内容ls -l   长格式显示文件的内容 #ls -l+名称显示信息ls -hl  显示文件的大小 单位为 K M Gls -a   显示所有文件 包括隐藏文件.ls -all 长格式显示所有的文件信息 ls -ld  显示目录的属性 ###目录的操作命令 ###cd 命">
  
    <link rel="alternate" href="/atom.xml" title="Hexo" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
  

</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Hexo</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://yoursite.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-linux总结" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/05/22/linux总结/" class="article-date">
  <time datetime="2017-05-21T16:00:00.000Z" itemprop="datePublished">2017-05-22</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      Linux
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="第一天"><a href="#第一天" class="headerlink" title="第一天"></a>第一天</h2><p>###linux 命令</p>
<p>####ls 命令<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">ls -l   文件或者目录下面的内容</span><br><span class="line">ls      显示目录下的内容</span><br><span class="line">ls -l   长格式显示文件的内容 #ls -l+名称显示信息</span><br><span class="line">ls -hl  显示文件的大小 单位为 K M G</span><br><span class="line">ls -a   显示所有文件 包括隐藏文件.</span><br><span class="line">ls -all 长格式显示所有的文件信息 </span><br><span class="line">ls -ld  显示目录的属性</span><br></pre></td></tr></table></figure></p>
<p>###目录的操作命令</p>
<p>###cd 命令<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">cd         切换目录的命令</span><br><span class="line">cd -       回到上一次操作的目录,进行目录切换前的目录</span><br><span class="line">cd | cd ~  都可以直接回到家目录</span><br><span class="line">cd ..      返回到上一级的目录</span><br><span class="line">cd .  	   进入到当前的目录</span><br><span class="line">pwd        显示当前所在的目录  </span><br><span class="line">相对路径：相对于文件所在位置的路径  </span><br><span class="line">绝对路径:有盘符表示的绝对路径</span><br></pre></td></tr></table></figure></p>
<p>###linux中常见的系统目录</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">/   表示系统的根目录</span><br><span class="line">/bin  所有的linux保存的命令 # 普通用户可读</span><br><span class="line">/boot 启动目录可以启动相关的文件</span><br><span class="line">/dev  设备文件保存的目录 </span><br><span class="line">	/dev/sr0 /dev/cdrom 光驱设备 </span><br><span class="line">	/dev/sda 硬盘设备</span><br><span class="line">/etc   配置文件保存的目录</span><br><span class="line">/mnt | /media   系统挂载的目录</span><br><span class="line">/home   建立的普通用户保存的目录</span><br><span class="line">/root   超级用户的家目录</span><br><span class="line">/tmp    临时目录</span><br><span class="line">/proc   直接写入内存</span><br><span class="line">/sys    </span><br><span class="line">/sbin   命令保存目录，超级用户可以使用</span><br><span class="line">/usr    系统软件资源目录</span><br><span class="line">    /usr/bin 普通用户的系统命令</span><br><span class="line">    /usr/sbin 超级用户的系统命令</span><br><span class="line">/var   系统相关的文档保存的目录</span><br><span class="line">     /var/log  系统日志的位置</span><br><span class="line">	 /var/spool/mail 系统默认邮箱保存的位置</span><br><span class="line">	 /var/lib   默认安装的库文件目录</span><br></pre></td></tr></table></figure>
<h3 id="目录的命令"><a href="#目录的命令" class="headerlink" title="目录的命令"></a>目录的命令</h3><p>###建立目录 mkdir<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">mkdir python  建立单个目录的命令</span><br><span class="line">mkdir -P a/b/c 递归建立目录   </span><br><span class="line">	-p递归建立目录的命令</span><br><span class="line">&lt;/pre&gt; </span><br><span class="line">&gt;删除目录的方法 rmdir </span><br><span class="line">&lt;pre&gt;</span><br><span class="line">rmdir python  删除空目录的方法</span><br><span class="line">rm 文件名  删除文件</span><br><span class="line">rm -rf 目录  强制删除文件和目录</span><br><span class="line">   -r  递归删除目录</span><br><span class="line">   -f  强制删除</span><br><span class="line">出现H时 :Ctrl+删除键</span><br></pre></td></tr></table></figure></p>
<p>##第二天 Linux 命令</p>
<p>###文件操作命令<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">1.touch 创建空文件 </span><br><span class="line">2.rm -rf 文件名  删除文件</span><br><span class="line">     -r  删除目录</span><br><span class="line">     -f  强制</span><br><span class="line">3.查看文件内容 </span><br><span class="line">  cat 文件名 Shift+PgUp 向上翻页  Shift+PgUp 向下翻页</span><br><span class="line">  cat -n 文件名  显示行号 适合查看文件内容少的文件、</span><br><span class="line">  more 文件名 分页显示文件内容 空格向下 b 向上 q退出</span><br><span class="line">  head -n 20 文件名  查看文件前20行  head默认查看前10行</span><br><span class="line">  tail -n 30 文件名  查看文件后20行  tail默认查看后30行</span><br><span class="line">4.快捷键</span><br><span class="line"> 清屏： clear=ctrl+l</span><br><span class="line"> 强制终止：ctrl+c  yes</span><br><span class="line"> 退出系统：exit=ctrl+d</span><br><span class="line"> Tab补全功能</span><br><span class="line">5.ln -s 同目录下创建链接文件</span><br><span class="line">  ln -s 跨目录创建的时候使用绝对路径</span><br></pre></td></tr></table></figure></p>
<p>###文件和目录都可以操作的命令<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">1.复制命令</span><br><span class="line">  cp     复制文件</span><br><span class="line">  cp -r  复制目录   -a=-pdr</span><br><span class="line">2.剪切与改名</span><br><span class="line">  mv a.txt py   剪切c.txt到目录py</span><br><span class="line">  mv b.txt py.txt 改名</span><br></pre></td></tr></table></figure></p>
<p>###权限管理<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">1.  -rw-r--r-- 644 root root install.log 系统默认的文件权限</span><br><span class="line">	drwxr-xr-x 755 root root py 系统默认的目录权限</span><br><span class="line">	lrwxrwxrwx 777 root root a.ln 链接文件权限</span><br><span class="line">	权限位 十位</span><br><span class="line">	第一位 文件类型 ： - 普通文件 d 目录 l 链接文件</span><br><span class="line">	第二三四位 属主权限 u-user rw- 6</span><br><span class="line">	第五六七位 属组权限 g - group r-- 4</span><br><span class="line">	第八九十位 其它人权限 o - other r-- 4</span><br><span class="line">	r 可读 w 可写 x 可执行 - 无权限</span><br><span class="line">	4 2 1 0</span><br><span class="line">2.权限管理  chmod</span><br><span class="line">  chmod u-r,g+w,o+x a.py</span><br><span class="line">  chmod u=r a.py 对u赋予权限r</span><br><span class="line">  chmod a=rwx a.py 对所有用户赋予权限rwx</span><br><span class="line">  chmod 755 a.py</span><br><span class="line">  chmod 644 a.py</span><br><span class="line">  chmod 777 a.py</span><br><span class="line">  chmod 000 a.py</span><br><span class="line">3.nano 纳米编辑器  nano a.py</span><br></pre></td></tr></table></figure></p>
<p>###修改文件属主属组<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">1.chown zzb a.py  属主</span><br><span class="line">2.chown zzb:zzb a.py 同时修改</span><br></pre></td></tr></table></figure></p>
<p>##第三天</p>
<p>###帮助命令<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">man 命令名  命令的解释</span><br><span class="line">命令 --help  帮助选项</span><br></pre></td></tr></table></figure></p>
<p>###查找命令<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">1.whereis 命令名  查找文件的位置</span><br><span class="line">2.查找</span><br><span class="line">1）按照文件名查找 -name -iname不区分大小写</span><br><span class="line">  find / -name a.txt</span><br><span class="line">2）按照用户查找 -user -group -nouser无主</span><br><span class="line">  find / -group zzb</span><br><span class="line">3)按照文件权限查找 -prem 755 644 777 000</span><br><span class="line">  find /root -prem 644</span><br><span class="line">4)按照文件大小查找 -size K M G</span><br><span class="line">  find / -size +10k</span><br><span class="line">  find / -size +10k -a -size -16k 查找范围 -a and</span><br><span class="line">5)按照文件类型查找 -type  l 链接 f 普通文件 d 目录</span><br><span class="line">  find / -type l</span><br></pre></td></tr></table></figure></p>
<p>###查找文件内容 grep<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">grep &quot;root&quot; install.log 查找含root的内容</span><br><span class="line">     -n 显示行号</span><br><span class="line">     -i 不区分大小写</span><br><span class="line">     -v 反向查找</span><br></pre></td></tr></table></figure></p>
<p>###管道符<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ls -l /etc | more</span><br><span class="line">cat -n install.log | grep &quot;root&quot;</span><br></pre></td></tr></table></figure></p>
<p>###压缩与解压缩  两种形式文件目录都能使用</p>
<p>###.tar.gz<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">tar -zcvf py03.tar.gz a.py b.py     压缩文件</span><br><span class="line">tar -ztvf py03.tar.gz               查看不解压</span><br><span class="line">tar -zxvf py03.tar.gz               解压缩</span><br><span class="line">tar -zxvf py03.tar.gz -C py         定向解压缩</span><br></pre></td></tr></table></figure></p>
<p>###.tar.bz2<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">tar -jcvf py.tar.bz2 py             解压目录</span><br><span class="line">tar -jtvf py.tar.bz2                查看不解压</span><br><span class="line">tar -jxvf py.tar.bz2                解压缩</span><br><span class="line">tar -jxvf py.tar.bz2 -C py          定向解压缩</span><br></pre></td></tr></table></figure></p>
<p>###关闭与重启命令<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">shutdown -h now  现在关机</span><br><span class="line">shutdown -r now  现在重启</span><br><span class="line">reboot           重启系统</span><br></pre></td></tr></table></figure></p>
<p>###挂载命令<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">1.挂载</span><br><span class="line">  mount 设备名（光盘/U盘/移动硬盘） 挂载点（自己定义/mnt/media）</span><br><span class="line">  (mkdir /mnt/usb  mkdir /media/cdrom)</span><br><span class="line">  mount /dev/sr0(/dev/cdrom) /mnt(/media)</span><br><span class="line">2.卸载要先退出挂载点</span><br><span class="line">  umount /dev/sr0 umount /media</span><br><span class="line">3.查看设备名</span><br><span class="line">  fdisk -l</span><br></pre></td></tr></table></figure></p>
<p>###网络命令<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">1.查看网络设备</span><br><span class="line">  ifconfig</span><br><span class="line">2.设置临时IP</span><br><span class="line">  ifconfig eth0 192.168.103.132 需要重启</span><br><span class="line">  ifconfig 确认</span><br><span class="line">3.测试网络的连通性</span><br><span class="line">  ping -c 5 192.168.103.132</span><br></pre></td></tr></table></figure></p>
<p>###vim编辑器<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">1.三种模式：命令模式 插入模式 末行模式</span><br><span class="line">2.退出的几种形式ESC:</span><br><span class="line">  wq 保存退出  ：wq! 强制保存退出   w 保存  q 退出  q! 不保存退出</span><br><span class="line">3.光标移动：h j k l  </span><br><span class="line">  移动到第几行 :n</span><br><span class="line">  光标移动到第一行 gg</span><br><span class="line">  光标移动到最后一行 G</span><br><span class="line">4.设置行号 set nu    永久设置：  vim ~/.vimrc   set nu</span><br><span class="line">  取消行号 set nonu</span><br><span class="line">5.复制一行 yy   复制多行 nyy</span><br><span class="line">6.粘贴 p</span><br><span class="line">7.删除(剪切) x       删除多行 nx</span><br><span class="line">8.删除（剪切）dd     多行 ndd     dG 光标到文件末尾全部删除</span><br><span class="line">9.撤销 u  反撤销 ctrl+r</span><br><span class="line">10.颜色开关 ：syntax on   :syntax off</span><br><span class="line">11.查找：/查找内容   n向下   N向上</span><br><span class="line">12.替换：%s/i686/aaaa/g 全文替换</span><br><span class="line">       ：690，700s/i686/aaa/g 范围替换</span><br><span class="line">13.注释 :690,700s/^/#/g  添加注释     ：690，700s/^#//g  取消注释</span><br><span class="line">       ：690，700s/^/\/\/g 添加注释    ：690，700s/^\/\///g 取消注释</span><br></pre></td></tr></table></figure></p>
<p>##软件包的管理<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">1.源码包 .tar.gz  .tar.bz2   优点：开源自由定制  缺点：编译时间长，一旦报错很难解决</span><br><span class="line">2.二进制包（编译后的包） .rpm</span><br></pre></td></tr></table></figure></p>
<p>###二进制包的管理<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">1.挂载 </span><br><span class="line">  mount /dev/sr0 /media</span><br><span class="line">  cd /media/Packages</span><br><span class="line">2.二进制包安装的方法</span><br><span class="line">  1）rpm命令（手动安装）</span><br><span class="line">  2）yum 自动化安装</span><br></pre></td></tr></table></figure></p>
<p>###rpm手动安装<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">1.rpm 命令  rpm -ivh tree-1.5.3-3.el6.i686.rpm (目录树 查看目录/系统机构)</span><br><span class="line">  rpm + 软件包 进行安装</span><br><span class="line">2.tree 测试</span><br><span class="line">  tree /root</span><br><span class="line">3.升级 rpm -Uvh 软件报名</span><br><span class="line">4.卸载 rpm -r tree 软件名</span><br><span class="line">5.关于使用rpm的查询</span><br><span class="line">  rpm -q  软件名  查询该软件是否被安装        rpm -qa 软件名  查询系统所有安装的二进制包</span><br><span class="line">  rpm -qi 软件名  查询已经安装的软件的信息     rpm -qip 软件包名 查询未被安装的软件包的信息</span><br><span class="line">  rpm -ql 软件名  查询已经安装的软件安装的位置  rpm -qlp 软件报名 查询未被安装的软件包将要安装的位置</span><br><span class="line">  rpm -qf /bin/ls 查询ls属于哪一个软件包  whereis</span><br></pre></td></tr></table></figure></p>
<p>###yum自动化安装<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">1.安装：yum -y install 软件名</span><br><span class="line">  升级：yum -y update  软件名</span><br><span class="line">  卸载：yum -y remove  软件名</span><br><span class="line">2. 挂载</span><br><span class="line">3. 修改网络yum源名称</span><br><span class="line">   cd /etc/yum.repos.d/</span><br><span class="line">   mv CentOS-Base.repo CentOS-Base.repo.bak</span><br><span class="line">4.修改光盘yum源</span><br><span class="line">   vim /etc/yum.repos.d/CentOS-Media.repo</span><br><span class="line">   baseurl=file:///meida/</span><br><span class="line">   gpgcheck=0</span><br><span class="line">   enabled=1</span><br><span class="line">5.安装gcc C语言编辑器 yum -y install gcc</span><br></pre></td></tr></table></figure></p>
<p>###源码包安装<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">远程传输工具 xftp</span><br><span class="line">1.解压缩</span><br><span class="line">2.进入解压缩的目录</span><br><span class="line">3.查看install和readme</span><br><span class="line">4.检测生成configure文件 </span><br><span class="line">  ./configure --prefix=/usr/local/apache2/</span><br><span class="line">5.编译 make</span><br><span class="line">6.编译安装 make install</span><br><span class="line">7.启动服务 /usr/local/apachea2/bin/apachectl start </span><br><span class="line">8.测试 浏览器输入：192.168.103.132</span><br><span class="line">9.卸载：</span><br><span class="line">  关闭服务</span><br><span class="line">  rm -rf /usr/local/apache2</span><br></pre></td></tr></table></figure></p>
<p>##第四天 用户管理和服务管理</p>
<p>###用户管理相关文件<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">1.用户信息文件:/etc/passwd  用户名：密码位：GID(初始组ID):注释：家目录：登录用户   /bin/login允许登录  nologin禁止登陆</span><br><span class="line">  普通用户的UID GID 500 500 开始</span><br><span class="line">2. 密码文件 影子文件 /etc/shadow  权限0000</span><br><span class="line">3. 组信息文件  /etc/group     组名：组密码位：GID:附加组员</span><br></pre></td></tr></table></figure></p>
<p>###用户管理相关命令<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">1.添加用户 useradd 用户名</span><br><span class="line">2.修改初始组 useradd -g aa bb </span><br><span class="line">3.添加附加组员 useradd -G aa cc</span><br><span class="line">4.为用户添加注释 useradd -c &quot;zhushi&quot; dd</span><br><span class="line">5.添加用户修改权限 useradd -s /bin/nologin ee</span><br><span class="line">6.添加用户修改家目录 useradd -d /home/tengxun qq</span><br><span class="line">7.设置密码，修改密码 passwd 用户名</span><br><span class="line">8.删除目录连带家目录一块删除 userdel -r 用户名</span><br><span class="line">9.添加组  groupadd 组名</span><br><span class="line">10.删除组 groupdel 组名</span><br><span class="line">11.添加组员 gpasswd -a 用户 组名</span><br><span class="line">12.删除组员 gpasswd -d 用户 组名</span><br><span class="line">13.查看用户id id用户名</span><br><span class="line">14.切换用户身份 su 用户名</span><br></pre></td></tr></table></figure></p>
<p>###ACL权限 给特殊用户设置权限<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">1.rwxrwxrwxr root root a.py</span><br><span class="line">权限位      属组  属主 文件/目录</span><br><span class="line">2.文件的acl权限</span><br><span class="line">  getfacl 文件名     查看文件的acl权限</span><br><span class="line">  setfacl 选项 文件名 设置文件的acl权限</span><br><span class="line">          -m    设定权限</span><br><span class="line">		  -b    删除权限</span><br><span class="line">  setfacl -m u:用户名：权限 文件名</span><br><span class="line">  setfacl -m g:组名：权限   文件名</span><br><span class="line">  setfacl -x u:用户名 文件名  删除用户的acl权限</span><br><span class="line">  setfacl -b 文件名          全部删除acl权限</span><br><span class="line">3.给目录本身添加acl权限</span><br><span class="line">  setfacl -m u:aa:rwx py03</span><br><span class="line">4.对目录和目录内文件设置acl权限 </span><br><span class="line">  setfacl -m u:a:rwx -R py03</span><br><span class="line">5.对未来文件设置acl权限</span><br><span class="line">  setfacl -m d:u:zzb:rwx -R py03</span><br></pre></td></tr></table></figure></p>
<p>####输出重定向<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&gt; 覆盖   &gt;&gt; 追加</span><br><span class="line">ls &gt; a.bak</span><br><span class="line">ls -l &gt;&gt; a.bak</span><br></pre></td></tr></table></figure></p>
<p>####进程与服务管理</p>
<p>###进程的三个主要任务：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">判断服务器健康状态</span><br><span class="line">查看所有正在运行的进程</span><br><span class="line">强制终止进程</span><br></pre></td></tr></table></figure></p>
<p>###进程查看 ps aux  | psstree | top</p>
<p>####pa aux<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">1.ps aux 查看当前系统运行的所有进程</span><br><span class="line">  -a 显示前台所有的进程</span><br><span class="line">  -u 显示用户名</span><br><span class="line">  -x 显示后台进程</span><br><span class="line">  user:用户名  </span><br><span class="line">  pid: 进程ID </span><br><span class="line">  %CPU:cpu占用百分比</span><br><span class="line">  %MEM:内存占用的百分比</span><br><span class="line">  VSZ: 虚拟内存占用量  kb</span><br><span class="line">  RSS：固定内存占用量</span><br><span class="line">  tty：登录终端     本地终端 tty1 tty2  运程终端 pts/0 pts/1</span><br><span class="line">  stat状态  S:睡眠  D:不可唤醒 R:运行 T:停止 </span><br><span class="line">  start: 进程触发</span><br><span class="line">  time： 占用CPU时间</span><br><span class="line">  command:进程本身 </span><br><span class="line">关闭进程： kill -9 进程号（PID）  -9强制终止</span><br></pre></td></tr></table></figure></p>
<p>####pstree<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">2.pstree 查看进程树</span><br><span class="line">  killall -9 httpd (进程名)</span><br></pre></td></tr></table></figure></p>
<p>####top<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">3.top    查看系统负载和运行情况</span><br><span class="line">  第一行：系统当前时间   系统持续时间  登录用户  1，5，15分钟之前平均</span><br><span class="line">  第二行：进程总数</span><br><span class="line">  第三行：CPU占有率  &amp;id  空闲百分比</span><br><span class="line">  第四行：内存使用  总共  使用   空闲 缓存</span><br><span class="line">  第五行：swap使用</span><br><span class="line">操作命令： M 内存排序  P CPU排序</span><br><span class="line">pkill -9 -t pts/4(用户登录远程终端)</span><br></pre></td></tr></table></figure></p>
<p>###当前用户登录情况<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">whoami  确认当前用户登录名</span><br><span class="line">who     查看系统登陆用户名</span><br><span class="line">w       查看系统运行情况和登录用户的信息</span><br></pre></td></tr></table></figure></p>
<p>###服务管理<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">1.系统默认安装的软件包的服务</span><br><span class="line">2.源码包安装的服务 httpd-2.2.29.tar.gz (apache2)</span><br><span class="line">3.服务是提供功能的软件集合</span><br><span class="line">4.apache 网站服务器 mysql数据库服务器</span><br><span class="line">5.chkconfig --list 查看系统服务和运行状态</span><br><span class="line">6.sshd  远程连接服务  network网络管理服务</span><br></pre></td></tr></table></figure></p>
<p>###运行级别<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">1.runlevel  查看系统运行级别</span><br><span class="line">2.查看运行级别的文件 vim /etc/inittab</span><br><span class="line">  int 0  关机</span><br><span class="line">  init 1 救援模式</span><br><span class="line">  init 3 服务器模式（多用户字符模式）</span><br><span class="line">  init 5 x11 图形界面 开发工作人员</span><br><span class="line">  init 6 重启系统</span><br></pre></td></tr></table></figure></p>
<p>###系统默认安装的软件包的服务路径<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">1.绝对路径  /etc/rc.d/init.d/sshd start | stop |restart</span><br><span class="line">2.命令 service sshd start | stop |restart | status</span><br></pre></td></tr></table></figure></p>
<p>###开机自启动<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">1.命令chkconfig </span><br><span class="line">  chkconfig --list 查看</span><br><span class="line">  chkconfig --level 245 sshd on | off</span><br><span class="line">  chkconfig --list</span><br><span class="line">2.写入文件 永久开机自启</span><br><span class="line">  vim /etc/rc.local</span><br><span class="line">  /etc/rc.d/init.d/sshd start</span><br></pre></td></tr></table></figure></p>
<p>###原码包安装的服务管理<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">1.手动管理</span><br><span class="line">  /usr/local/apache2/bin/apachectl start | stop | restart</span><br><span class="line">2.开机自启动</span><br><span class="line">  vim /etc/rc.local</span><br><span class="line">  /usr/local/apache2/bin/apachectl start</span><br></pre></td></tr></table></figure></p>
<p>###计划任务<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">1.定时任务  命令 * * * * *</span><br><span class="line"> crontab -e 编辑计划任务</span><br><span class="line"> 第一个*： 一天中的第几分钟  0-59</span><br><span class="line"> 第二个*： 一天中的第几小时  0-23</span><br><span class="line"> 第三个*：第几天            1-31</span><br><span class="line"> 第四个*：第几月            1-12</span><br><span class="line"> 第五个*：周几              0-6</span><br><span class="line">2.crontab -e 编辑计划任务</span><br><span class="line">3.crontab -r 删除所有</span><br><span class="line">4.crontab -l 查看计划任务</span><br><span class="line">5.修改时间 date -s 20170823</span><br><span class="line">		  date -s 162317</span><br></pre></td></tr></table></figure></p>
<p>##第五天 网络应用</p>
<p>###网络的配置<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">1.设置Ip</span><br><span class="line">  ifconfig eth0 IP  临时设置</span><br><span class="line">  setup 永久设置</span><br><span class="line">  service network restart 重启网卡</span><br></pre></td></tr></table></figure></p>
<p>###网卡的配置文件<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim /etc/sysconfig/network-scripts/ifcfg-eth0</span><br></pre></td></tr></table></figure></p>
<p>重启服务的命令 service 服务名 restart</p>
<p>###主机名修改<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">1.临时设置</span><br><span class="line">  hostname 主机名</span><br><span class="line">2.永久设置</span><br><span class="line">  vim /etc/sysconfig/network</span><br><span class="line">  HOSTNAME=主机名</span><br></pre></td></tr></table></figure></p>
<p>###DNS设置<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">1.vim /etc/resolv.conf</span><br><span class="line">  nameserver 114.114.114.114</span><br></pre></td></tr></table></figure></p>
<p>###网络命令<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">1.ifup enth0 开启网卡   ifdown eth0 关闭网卡</span><br><span class="line">2.查看网络状态</span><br><span class="line">  netstat -an 查看所有网络连接</span><br><span class="line">  netstat -rn 查看默认网关</span><br><span class="line">  netstat -tlun 查看lcp和udp网络监听端口</span><br><span class="line">3.端口1-65535</span><br><span class="line">  vim /etc/services</span><br><span class="line">  httpd 80</span><br><span class="line">  sshd  22</span><br><span class="line">4.网关</span><br><span class="line">  route del default gw 192.168.103.1 删除默认网关</span><br><span class="line">  route add default gw 192.168.103.1 添加默认网关</span><br><span class="line">  ping -c 5 -s 1000 192.168.103.185 -s 数据包大小</span><br><span class="line">5.协议</span><br><span class="line">  TCP 协议确认身份 通信更加安全</span><br><span class="line">  UDP 网络传递</span><br><span class="line">  ICMP</span><br></pre></td></tr></table></figure></p>
<p>###网络服务</p>
<p>####FTP服务 通过网络访问<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">1.ftp vsftp ISO （官网提供）</span><br><span class="line">2.安装 </span><br><span class="line">  1) 挂载</span><br><span class="line">  2）yum 安装</span><br><span class="line">  3）配置文件</span><br><span class="line">   /etc/vsftpd/vsftpd.conf /etc/vsftpd/ftpusers</span><br><span class="line">   vim /etc/vsftpd/vsftpd.conf</span><br><span class="line">   85 ftpd_banner=Welcome to py03 blah FTP service.</span><br><span class="line">3.测试启动服务</span><br><span class="line">  关闭防火墙</span><br><span class="line">  关闭SELINUX</span><br><span class="line">  vim /etc/selinux/config</span><br><span class="line">  7 SELINUX=disabled</span><br><span class="line">  reboot</span><br><span class="line">4.netstat -tlun 查看21端口</span><br><span class="line">5.开启服务 service vsftpd start</span><br><span class="line">6.windows ftp://192.168.103.254 匿名用户登录 禁止上传 /var/ftp/pub</span><br><span class="line">  ftp://zzb@192.168.103.254 系统用户登录 上传 下载</span><br><span class="line">  在第三方工具FileZilla 测试</span><br></pre></td></tr></table></figure></p>
<p>####Samba服务 只能通过文件访问<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line">1.文件共享服务 Linux Server--&gt; Windows Client</span><br><span class="line">  端口smba给Client提供资源访问 TCP 139 445</span><br><span class="line">  nmbd提供netbios主机名解析 UDP  137 138 </span><br><span class="line">2.搭建Samba服务</span><br><span class="line">1）安装软件  yum -y install samba</span><br><span class="line">2）配置文件  /etc/samba/smb.conf</span><br><span class="line">  安全级别：share （不需要密码）  </span><br><span class="line">           user Samba用户（系统用户，添加成为samba用户，设置密码）</span><br><span class="line">		   server级别</span><br><span class="line">3.实验一：共享目录/movie  安全级别为share</span><br><span class="line">  1）修改目录建立权限</span><br><span class="line">     mkdir /movie</span><br><span class="line"> 	 chmod 777</span><br><span class="line">  2）修改配置文件</span><br><span class="line">	 vim /etc/samba/smb.conf</span><br><span class="line">     101 security=share</span><br><span class="line">	 263 [movie]</span><br><span class="line">				comment=dianying</span><br><span class="line">				path=/movie</span><br><span class="line">				browseable=yes</span><br><span class="line">				guest ok=yes</span><br><span class="line">				writable=yes</span><br><span class="line">  3）启动服务测试</span><br><span class="line">	关闭防火墙 setup</span><br><span class="line">	关闭selinux </span><br><span class="line">	netstat -tlun</span><br><span class="line">	service smb start</span><br><span class="line">	service nmb start</span><br><span class="line">	netstat -tlun</span><br><span class="line">	测试：windows 计算器输入 \\192.168.102.132</span><br><span class="line">    映射网络驱动</span><br><span class="line"> 实验二：共享目录/pub 所有用户都能访问上传 /soft只有aa用户可以访问 其他用户不可以安全级别为user</span><br><span class="line"> 1.建立目录 修改权限</span><br><span class="line">   mkdir /pub</span><br><span class="line">   mkdir /soft</span><br><span class="line">   chmod 777 /pub</span><br><span class="line">   chmod 700 /soft</span><br><span class="line">   useradd aa</span><br><span class="line">   passwd aa</span><br><span class="line">   chown aa /soft</span><br><span class="line"> 2.需改配置文件的权限</span><br><span class="line">   vim /etc/samba/smb.conf</span><br><span class="line">　　101 security = user</span><br><span class="line">　　263 [pub]</span><br><span class="line">		264 comment = public</span><br><span class="line">		265 path = /pub</span><br><span class="line">		266 browseable = yes</span><br><span class="line">		267 writable = yes</span><br><span class="line">	269 [soft]</span><br><span class="line">		270 comment = software</span><br><span class="line">		271 path = /soft</span><br><span class="line">		272 browseable = yes</span><br><span class="line">		273 writable = yes</span><br><span class="line"> 3.添加samba用户</span><br><span class="line">　 smbpasswd -a aa</span><br><span class="line">   smbpasswd -a bb</span><br><span class="line">   pdbedit -L  查看samba用户 </span><br><span class="line"> 4.重启服务，测试</span><br></pre></td></tr></table></figure></p>
<p> ####SSH服务  非对称密钥加密<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">1.启动服务service sshd start | restart | status</span><br><span class="line">2.配置文件 vim /etc/ssh/sshd_config</span><br><span class="line">3.远程连接主机 ssh root@IP</span><br><span class="line">4.linux上的文件上传下载</span><br><span class="line">  上传： scp a.py root@192.168.103.132: /root</span><br><span class="line">        scp -r /etc root@192.168.103.132: /root  目录</span><br><span class="line">  下载： scp root@192.168.103.132: /root/cron.log /root</span><br><span class="line">        scp -r root@IP: /etc/root  下载目录</span><br><span class="line">5.密钥登录</span><br><span class="line">  ssh-keygen -t rsa -P &apos;&apos;   -P表示密码</span><br><span class="line">  cd .ssh </span><br><span class="line">  cp id_rsa.pub authorized_keys</span><br><span class="line">  chmod 600 authorized_keys</span><br><span class="line">  客户端 下载密钥 使用密钥登录测试</span><br><span class="line">6.设置 /etc/ssh/sshd_config 禁止使用密码登录</span><br><span class="line">  66  PasswordAuthentication no</span><br><span class="line">  重启sshd服务进行测试</span><br></pre></td></tr></table></figure></p>
<p>##第六天 服务器搭建</p>
<p>##第七天 Apache服务器配置</p>
<p>###简介<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">1.HTTP协议  超文本传输协议</span><br><span class="line">2.统一资源定位符 URL</span><br></pre></td></tr></table></figure></p>
<p>###安装<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">1.原码包安装安全，稳定，屏蔽错误，开发环境是小范围的</span><br><span class="line">2.二进制包 yum安装 httpd mysql mysql-server php php-devel php-mysql</span><br></pre></td></tr></table></figure></p>
<p>###相关文件<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">1.配置文件和目录 </span><br><span class="line">  /usr/local/apache2/etc/http.conf</span><br><span class="line">  /usr/local/apache2/etc/extra/httpd-*.conf</span><br><span class="line">2.默认网站的根目录</span><br><span class="line">  /usr/local/apache2/htdocs</span><br><span class="line">3.日志保存文件</span><br><span class="line">  /usr/local/apache2/logs</span><br></pre></td></tr></table></figure></p>
<p>###日志的处理<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">1.动态查看文件内容</span><br><span class="line">  tail -f access_log</span><br><span class="line">2.日志处理（切割轮替）</span><br><span class="line">  vim /etc/logrotate.conf</span><br><span class="line">  /usr/local/apache2/logs/access_log &#123;</span><br><span class="line">	daily </span><br><span class="line">	rotate 30 </span><br><span class="line">&#125;</span><br><span class="line"> /usr/local/apache2/logs/error_log &#123; </span><br><span class="line">	daily</span><br><span class="line">	rotate 30 </span><br><span class="line">&#125;</span><br><span class="line">3.手动执行</span><br><span class="line">  logrotate -f /etc/logrotate.conf</span><br><span class="line">  cd /usr/local/apache2/logs</span><br><span class="line">  ls</span><br></pre></td></tr></table></figure></p>
<p>###配置文件<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">1.命令别名  alias</span><br><span class="line">  vim /root/.bashrc</span><br><span class="line">  alias sto=&apos;/usr/local/apache2/bin/apachectl stop&apos; alias sta=&apos;/usr/local/apache2/bin/apachectl start&apos;</span><br><span class="line">2.手动执行</span><br><span class="line">  source /root/.bashrc</span><br><span class="line">sto  sta</span><br></pre></td></tr></table></figure></p>
<p>###实验一：目录别名 （扩展网站目录）<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">1.建立目录别名</span><br><span class="line">  mkdir /usrlocal/apache2/www</span><br><span class="line">2.修改主配置文件</span><br><span class="line">  vim /usr/local/apache2/etc/httpd.conf</span><br><span class="line">  453 去掉注释</span><br><span class="line">  453 Include etc//extra/httpd-autoindex.conf</span><br><span class="line">3.修改子配置文件</span><br><span class="line">  vim /usr/local/apache2/ettc/extra/httpd-autoindex.conf</span><br><span class="line">  29 Alias /www/ &quot;/usr/local/apache2/www/&quot; </span><br><span class="line">  &lt;Directory &quot;/usr/local/apache2/www/&quot;&gt;</span><br><span class="line">	 32 Options Indexes </span><br><span class="line">	 33 AllowOverride None </span><br><span class="line">	 34 Require all granted </span><br><span class="line">&#125;</span><br><span class="line">4.重启服务测试</span><br><span class="line">sto</span><br><span class="line">sta</span><br><span class="line">192.168.103.110/www/</span><br></pre></td></tr></table></figure></p>
<p>###实验二：虚拟主机<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line">1.域名解析文件解析 在windows上操作</span><br><span class="line"> C:\Windows\System32\drivers\etc\hosts</span><br><span class="line"> 192.168.103.110 www.sina.com</span><br><span class="line"> 192.168.103.110 www.sohu.com</span><br><span class="line">2.网站目录规划</span><br><span class="line"> mkdir -p /share/sina</span><br><span class="line"> vim /share/sina/index.html</span><br><span class="line"> hello sina</span><br><span class="line"> mkdir /share/sohu</span><br><span class="line"> vim /share/sohu/index.html</span><br><span class="line"> hi sohu</span><br><span class="line">3.修改主配置文件</span><br><span class="line"> vim /usr/local/apache2/etc/httpd.conf (取消注释)</span><br><span class="line"> 。465 Include etc//extra/httpd-vhosts.conf</span><br><span class="line"></span><br><span class="line">4.修改自配置文件</span><br><span class="line"> vim /usr/local/apache2/etc/extra/httpd-vhosts.conf</span><br><span class="line"> 23 &lt;Directory &quot;/share/sina/&quot;&gt; </span><br><span class="line">		24 Options Indexes </span><br><span class="line">		25 AllowOverride None </span><br><span class="line">		26 Require all granted</span><br><span class="line">&#125; </span><br><span class="line">   29 &lt;Directory &quot;/share/sohu/&quot;&gt; </span><br><span class="line">		30 Options Indexes </span><br><span class="line">		31 AllowOverride None </span><br><span class="line">		32 Require all granted </span><br><span class="line">&#125;</span><br><span class="line">   35 &lt;VirtualHost 192.168.103.254&gt; </span><br><span class="line">		36 ServerAdmin webmaster@sina.com </span><br><span class="line">		37 DocumentRoot &quot;/share/sina/&quot; </span><br><span class="line">		38 ServerName www.sina.com </span><br><span class="line">		39 ErrorLog &quot;logs/sina.com-errorlog&quot; </span><br><span class="line">		40 CustomLog &quot;logs/sina.com-accesslog&quot; common</span><br><span class="line">&#125; </span><br><span class="line">   41&lt;VirtualHost 192.168.103.254&gt; </span><br><span class="line">		44 ServerAdmin webmaster@sohu.com </span><br><span class="line">		45 DocumentRoot &quot;/share/sohu/&quot; </span><br><span class="line">		46 ServerName www.sohu.com </span><br><span class="line">		47 ErrorLog &quot;logs/sohu.com-errorlog&quot; </span><br><span class="line">		48 CustomLog &quot;logs/sohu.com-accesslog&quot; common</span><br><span class="line">&#125;</span><br><span class="line">5.重启服务 测试</span><br><span class="line">sto</span><br><span class="line">sta</span><br><span class="line">测试：www.sina.com  www.sohu.com</span><br></pre></td></tr></table></figure></p>
<p>###实验3： rewrite重写重定向<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">www.sina.com --&gt; www.sohu.com</span><br><span class="line">1.修改主配置文件</span><br><span class="line">  vim /usr/local/apache2/etc/httpd.conf</span><br><span class="line">  147 LoadModule rewritemodule modules/modrewrite.so</span><br><span class="line">2.修改子配置文件</span><br><span class="line">  vim /usr/local/apache2/etc/extra/httpd-vhosts.conf</span><br><span class="line">  &lt;Directory &quot;share/sina/&quot;&gt;</span><br><span class="line">	24 Options Indexes FollowSymLinks</span><br><span class="line">	25 AllowOverride All </span><br><span class="line">	26 Require all granted </span><br><span class="line">3.建立.htaccess权限文件权限</span><br><span class="line">  vim /share/sina/.htaccess</span><br><span class="line">  	1 RewriteEngine on </span><br><span class="line">  	2 RewriteCond %&#123;HTTP_HOST&#125; www.sina.com </span><br><span class="line">   3 RewriteRule .* http://www.sohu.com</span><br><span class="line">4.重启服务进行测试</span><br></pre></td></tr></table></figure></p>
<p>###网页文件跳转<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">1.修改权限文件</span><br><span class="line"> vim /share/sina/.htaccess</span><br><span class="line"> 1 RewriteEngine on </span><br><span class="line"> 2 RewriteRule index(\d+).html index.php?id=$1</span><br><span class="line">2.建立index.php</span><br><span class="line">vim /share/sina/index.php</span><br><span class="line">1 &lt;?php 2 echo &quot;hello world!&quot;; 3 ?&gt;</span><br><span class="line">3) 重启服务 测试</span><br></pre></td></tr></table></figure></p>
<p>##第八天  lnmp服务器的快速搭建</p>
<p>###准备工作<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">1.配置yum源</span><br><span class="line">  cd /etc/yum.repos.d/</span><br><span class="line">  mv CentOS-Base.repo CentOS-Base.repo.bak</span><br><span class="line">  修改yum源</span><br><span class="line">2.挂载</span><br><span class="line">  mount /dev/sr0 /media</span><br><span class="line">3.永久IP设置</span><br><span class="line">  setup</span><br></pre></td></tr></table></figure></p>
<p>###安装步骤<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">1.解压缩</span><br><span class="line">  tar -zxvf lnmp1.2-full.tat.gz</span><br><span class="line">2.进入解压缩目录</span><br><span class="line">  cd lnmp1.2-full</span><br><span class="line">3.安装</span><br><span class="line">  ./install.sh lnmp  3 5 1</span><br></pre></td></tr></table></figure></p>
<p>###LNMP相关软件安装目录<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Nginx 目录： /usr/local/nginx</span><br><span class="line">MySQl 目录： /usr/local/mysql</span><br><span class="line">MySQL数据库所在目录： /usr/local/mysql/var/</span><br><span class="line">PHP 目录： /usr/local/php/</span><br><span class="line">PHPMyAdmin 目录： /home/wwwroot/default/phpmyadmin</span><br><span class="line">默认网站目录： /home/wwwroot/default</span><br><span class="line">Nginx 日志目录： /home/wwwlogs</span><br></pre></td></tr></table></figure></p>
<p>###LNMP相关配置文件<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Nginx主配置文件：/usr/local/nginx/conf/nginx.conf</span><br><span class="line">MySQL配置文件：  /etc/my.conf</span><br><span class="line">PHP配置文件:    /usr/local/php/etc/php.ini</span><br></pre></td></tr></table></figure></p>
<p>####LAMP状态管理命令<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">LNMP状态管理：lnmp &#123;start|stop|restart|kill|status|reload&#125;</span><br><span class="line">LNMP各个程序的状态管理：lnmp &#123;nginx|mysql|mariadb|php-fpm|pureftpd&#125;&#123;start|stop|restart|kill|status&#125;</span><br><span class="line">&lt;/pre&gt;</span><br><span class="line">###配置文件</span><br><span class="line">&lt;pre&gt;</span><br><span class="line">vim /usr/local/nginx/conf/nginx.conf</span><br><span class="line">  user www www;</span><br><span class="line">启动进程：</span><br><span class="line">worker_processes auto;</span><br><span class="line">错误日志：</span><br><span class="line">error_log /home/wwwlogs/nginx_error.log crit;</span><br><span class="line">主进程保存文件：</span><br><span class="line">pid /usr/local/nginx/logs/nginx.pid</span><br><span class="line">文件描述符数量：</span><br><span class="line">worker_rlimit_nofile 51200</span><br></pre></td></tr></table></figure></p>
<p>###nginx配置文件语句错误<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/usr/local/nginx/sbin/nginx -t</span><br></pre></td></tr></table></figure></p>
<p>###平滑重启nginx进程<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pkill -HUP nginx</span><br></pre></td></tr></table></figure></p>
<p>##配置实现</p>
<p>###实验一：nginx 虚拟主机<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">1.域名解析文件解析 在windows上操作</span><br><span class="line">192.168.103.110 www.sina.com</span><br><span class="line">192.168.103.110 www.sohu.com</span><br><span class="line">2.网站目录规划</span><br><span class="line">mkdir /home/wwroot/sina</span><br><span class="line">vim /home/wwwroot/sina/index.html</span><br><span class="line">hello sina</span><br><span class="line">mkdir /home/wwwroor/sohu</span><br><span class="line">vim /home/wwwroot/sohu/index.html</span><br><span class="line">hi sohu</span><br><span class="line">3.修改配置文件</span><br><span class="line">vim /usr/local/nginx/conf/nginx.conf</span><br><span class="line">66 行 listen 80;</span><br><span class="line">4.建立虚拟主机文件</span><br><span class="line">vim /usr/local/nginx/conf/vhost/v.conf</span><br><span class="line">server&#123;</span><br><span class="line">	listen 80;</span><br><span class="line">	server_name = www.sina.com</span><br><span class="line">	index index.html index.html index.php;</span><br><span class="line">	root /home/wwwroot/sina;</span><br><span class="line">	inclue enable-php.conf;</span><br><span class="line">&#125;</span><br><span class="line">server&#123;</span><br><span class="line">	listen 80;</span><br><span class="line">	server_name = www.sohu.com</span><br><span class="line">	index index.html index.html index.php;</span><br><span class="line">	root /home/wwwroot/sohu;</span><br><span class="line">	inclue enable-php.conf;</span><br><span class="line">&#125;</span><br><span class="line">5.重启服务进行测试</span><br><span class="line">pkill -HUP nginx</span><br><span class="line">在浏览器上测试： www.sina.com  www.sohu.com</span><br></pre></td></tr></table></figure></p>
<p>###实验二：列表页显示<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">1.在配置文件打开autoindex</span><br><span class="line">vim /uer/local/nginx/conf/nginx.conf</span><br><span class="line">72 autoindex on/off;</span><br><span class="line">2.重启服务</span><br><span class="line">pkill -HUP nginx</span><br><span class="line">3.修改index.html文件的名字</span><br><span class="line">cd /home/wwwroot/default</span><br><span class="line">mv index.html a.html</span><br><span class="line">4.测试</span><br><span class="line">在浏览器输入192.168.103.110</span><br></pre></td></tr></table></figure></p>
<p>###实验三：状态监控<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">1.配置文件</span><br><span class="line">vim /usr/local/nginx/conf/vhost/v.conf</span><br><span class="line">自第八行加入</span><br><span class="line">lication /nginxstatus&#123;</span><br><span class="line">	stubstatus on;</span><br><span class="line">	access_log off;</span><br><span class="line">&#125;</span><br><span class="line">2.重启 测试</span><br><span class="line">pkill -HUP nginx </span><br><span class="line">www.sina.com/nginx_status</span><br></pre></td></tr></table></figure></p>
<p>###实验四：rewrite重写/重定向<br>网站跳转<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">www.sina.com--&gt;www.sohu.com</span><br><span class="line">1.修改配置文件</span><br><span class="line">vim /usr/local/nginx/conf/vhost/v.conf</span><br><span class="line">server &#123; </span><br><span class="line">	listen 80;</span><br><span class="line">	servername = www.sina.com;</span><br><span class="line">	index index.html index.htm index.php;</span><br><span class="line">	root /home/wwwroot/sina;</span><br><span class="line">	autoindex on;</span><br><span class="line">	include enable-php.conf;</span><br><span class="line">	if ($httphost = www.sina.com)</span><br><span class="line">	&#123;</span><br><span class="line">	rewrite (.*) http://www.sohu.com permanent</span><br><span class="line">&#125;</span><br><span class="line">2.重启服务 测试</span><br><span class="line">pkill -HUP nginx</span><br><span class="line">www.sina.com--&gt;www.sohu.com</span><br></pre></td></tr></table></figure></p>
<p>网页文件跳转<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">1.修改配置文件</span><br><span class="line">vim /usr/local/nginx/conf/vhost/v.conf</span><br><span class="line">server &#123;</span><br><span class="line">	listen 80;</span><br><span class="line">	server_name = www.sina.com;</span><br><span class="line">    index index.html index.htm index.php;</span><br><span class="line">    root /home/wwwroot/sina;</span><br><span class="line">	autoindex on;</span><br><span class="line">	include enable-php.conf;</span><br><span class="line">	rewrite index(\d+).html /index.php?id=$1 last;</span><br><span class="line">&#125;</span><br><span class="line">2.建立index.php</span><br><span class="line">vim /home/wwwroot/sina/index.php</span><br><span class="line">&lt;?php echo &quot;hello&quot; ?&gt;</span><br><span class="line">3.重启服务进行测试</span><br><span class="line">pkill -HUP nginx</span><br><span class="line">www.sina.com/index3.html</span><br></pre></td></tr></table></figure></p>
<p>###实验五：代理负载均衡 反向代理<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">三个虚拟机其中一个做分发，另外两个做解析使用</span><br><span class="line">1.修改配置文件 vim /usr/local/nginx/conf/nginx.conf在原文件修改</span><br><span class="line"> 65 upstream myweb1 &#123;</span><br><span class="line"> 66         server 192.168.103.140:80;</span><br><span class="line"> 67         server 192.168.103.199:80;</span><br><span class="line"> 68 &#125;       </span><br><span class="line"> 69 server &#123;</span><br><span class="line"> 70         listen       80;</span><br><span class="line"> 71         server_name  www.sohu.com;</span><br><span class="line"> 72         location / &#123;</span><br><span class="line"> 73                 proxy_pass http://myweb1;</span><br><span class="line"> 74                 proxy_next_upstream http_500 http_502 http_503 error timeout invalid_header;</span><br><span class="line"> 75                 proxy_set_header Host $host;</span><br><span class="line"> 76                 proxy_set_header X-Forwarded-For $remote_addr;</span><br><span class="line"> 77 &#125;               </span><br><span class="line"> 78 &#125; </span><br><span class="line">为99行添上注释 即关闭虚拟主机</span><br><span class="line">2.设置第一个解析用的ip</span><br><span class="line">cd /home/wwwroot/default</span><br><span class="line">vim index.html</span><br><span class="line">3.设置第二个解析用的ip 同上</span><br><span class="line">4.重启分发主机进行测试</span><br><span class="line">pkill -HUP nginx</span><br><span class="line">www.sohu.com</span><br></pre></td></tr></table></figure></p>
<p>##第九天</p>
<p>###shell的作用<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">1.命令解释器 vim /etc/shells</span><br><span class="line">2.Tab 自动补全  </span><br><span class="line">  history -c 清除历史  </span><br><span class="line">  history -w 写入文件  ~/.bash_history</span><br><span class="line">  !  调用历史命令</span><br><span class="line">3.设置历史命令行保存的条数</span><br><span class="line">  vim /etc/profile     48 HISTSIZE=1000</span><br><span class="line">4.定义别名</span><br><span class="line">  1)vim ~/.bashrc  alias abc=&quot;history&quot;   source ~/.bashrc</span><br><span class="line">  2)alias abc=&quot;history&quot;   unalias abc</span><br><span class="line">5.重定向：</span><br><span class="line">  1）输入重定向</span><br><span class="line">  wc -l &lt; install.log</span><br><span class="line">  2）</span><br><span class="line">  ls &gt; a.log 2&gt;&gt;   </span><br><span class="line">6.管道符  统计已连接的数量</span><br><span class="line">  netstat -an | grep ESTABLISHED | wc -l</span><br></pre></td></tr></table></figure></p>
<p>###Shell变量的应用<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Var=lamp</span><br><span class="line">echo $Var3.0  输出：.3</span><br><span class="line">echo $&#123;Var&#125;3.0 输出：lamp3.0</span><br></pre></td></tr></table></figure></p>
<p>###从键盘输入内容为变量赋值<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">read -p &quot;信息内容&quot; -t 30 变量名</span><br><span class="line">双引号 &quot;&quot;: 允许通过$符号引用其他变量值</span><br><span class="line">单引号 &apos;&apos;: 禁止引用其他变量值，$视为普通参数</span><br><span class="line">反撇号 ``: 将命令执行的结果输出给变量</span><br></pre></td></tr></table></figure></p>
<p>###设置变量的作用范围<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">1.设置变量名</span><br><span class="line">  export 变量名</span><br><span class="line">  export 变量名=变量值</span><br><span class="line">2.查看环境变量</span><br><span class="line">  env 或 export</span><br><span class="line">3.清除用户定义的变量</span><br><span class="line">  unset 变量</span><br><span class="line">  export A=/usr/local/nginx/sbin:$PATH</span><br></pre></td></tr></table></figure></p>
<p>###系统环境变量文件<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">1.全局配置文件： 1/etc/profile     4/etc/profile</span><br><span class="line">2.用户配置文件： 2~/.bash_profile  3~/.bashrc</span><br><span class="line">3.用set查看环境变量</span><br></pre></td></tr></table></figure></p>
<p>常见的环境变量<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$USER  $LOGNAME  $UID   $SHELL</span><br><span class="line">$HOME  $PWD   $PATH  $PS1  $PS2</span><br></pre></td></tr></table></figure></p>
<p>环境变量PS1<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">echo $PS1:</span><br><span class="line">\d 日期        \t时间（24）    \T时间（12）</span><br><span class="line">\H 完整主机名   \h简写主机名     \u用户名</span><br><span class="line">\v bash版本    \w完整目录       \W最后一个目录</span><br><span class="line">\#执行了第几个命令              \$提示符</span><br><span class="line">PS1=&apos;[\u@\h \w \t #\#]\$&apos;</span><br></pre></td></tr></table></figure></p>
<p>位置变量<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">表示为$n,n为1~9之间的数字</span><br><span class="line">$0 为第0个参数，脚本本身</span><br></pre></td></tr></table></figure></p>
<p>预定义变量<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">$#:命令行中位置参数的个数</span><br><span class="line">$*:所有位置参数的内容</span><br><span class="line">$?:上一条命令执行后返回的状态，当返回值为0时正常，非零时出错</span><br><span class="line">$$:当前所在进程的进程号</span><br><span class="line">$!:后台运行的最后一个进程</span><br><span class="line">$0:当前执行的进程</span><br></pre></td></tr></table></figure></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">xeyes $ </span><br><span class="line">jobs  查看系统运行任务（后台进程）</span><br><span class="line">fg+1 调用到前台</span><br></pre></td></tr></table></figure>
<p>多命令与通配符<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">多命令运行：</span><br><span class="line">；  命令顺序执行</span><br><span class="line">&amp;&amp;  前后命令存在逻辑关系，前面命令执行成功后，后面命令才能执行</span><br><span class="line">||  前后命令存在逻辑关系，前面命令执行失败时候，后面命令执行</span><br><span class="line"></span><br><span class="line">通配符与特殊符号：</span><br><span class="line">通配符：</span><br><span class="line">     *   任意多个</span><br><span class="line">     ？  任意一个   rm -rf ?.??</span><br><span class="line">	 []  括号内任意一个   </span><br><span class="line">特殊符号：</span><br><span class="line">	 \   转义符</span><br><span class="line">	 &amp;   后台非</span><br><span class="line">	 ！</span><br></pre></td></tr></table></figure></p>
<p>运行shell脚本的方法<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">1.直接执行具有“X”权限的脚本文件</span><br><span class="line">  ./文件名</span><br><span class="line">2.使用指定的解释器程序执行脚本内容</span><br><span class="line">   bash 文件名</span><br><span class="line">3.通过source命令 读取脚本内容进行执行</span><br><span class="line">   souce 文件名 或 .文件名</span><br></pre></td></tr></table></figure></p>
<p>##第十天</p>
<p>课堂积累<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">1.正则表达式可以进行筛选</span><br><span class="line">2./var/log 日志文件 /lastlog 最后登录</span><br><span class="line">3.a\&#123;n\&#125; 匹配n次以上a</span><br><span class="line">4.^$  匹配空行，格式化</span><br><span class="line">5.查找 find grep whereis</span><br><span class="line">6.grep -n &quot;^$&quot; a.txt 匹配空白行显示行号 -v 取反 -i 忽略大小写     </span><br><span class="line">7.last 显示登陆用户终端的信息   </span><br><span class="line">8.\t 制表符 \n换行符  last | awk &apos;&#123;printf $1 &quot;\t&quot; $2 &quot;\n&quot;&#125;&apos;</span><br><span class="line">   printf 函数输出，格式化输出 </span><br><span class="line">9.$0 原文件打印  $1 表示第一列     </span><br><span class="line">10.awk 中 FS 代表分隔符  位置变量</span><br><span class="line">11.cat 用数字表示列数 cut -d &quot;:&quot; -f 1 install.log</span><br><span class="line">11 ^ 括号外面取反 ^括号里面是指所取范围的前面</span><br><span class="line">12.df -hT 查看系统分区  Use% 服务器硬盘使用占比  监控实例                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                </span><br><span class="line">   usage=`df -hT | grep &quot;/boot&quot; | awk &apos;&#123;ptint $6&#125;&apos; | cut -d &quot;%&quot; -f 1`</span><br><span class="line">   echo $usage</span><br><span class="line">   [ usage -gt 85 ]&amp;&amp; echo &quot;YES&quot;</span><br><span class="line">13.-o 写在程序里面 在命令行写 ||  </span><br><span class="line">14.字符串的比较： = 赋值  == 是否相等</span><br><span class="line">15.$LANG 代表字符集</span><br><span class="line">16.内存大于百分八十的时候报警步骤：</span><br><span class="line">  1)vim waring.sh</span><br><span class="line">  2). warning.sh (给权限) #如果拿别人的代码，注意标点符号</span><br><span class="line">  3）. mydb.sh start 数据库开启</span><br><span class="line">17.端口号：3306 mysqp  22 ssh 11211 lamp(memecache)  80 apach </span><br><span class="line">18.pgrep:查看服务有没有进程号 pid </span><br><span class="line">19.DIR 目录  LMT数量  file文件 stdin标准键盘输入 /dev/null 设备文件/黑洞文件 expr计算（1+1） letter字母 Spacebar空格 </span><br><span class="line">20.查看内存：top</span><br><span class="line">21.github网站  sudo 管理员身份运行程序 Altinstall 安装兼容版本</span><br></pre></td></tr></table></figure></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2017/05/22/linux总结/" data-id="cjaghw9vb0005dkv1zpp98tl7" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/linux/">linux</a></li></ul>

    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2017/05/22/django留言板/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          django留言板
        
      </div>
    </a>
  
  
</nav>

  
</article>

</section>
        
          <aside id="sidebar">
  
    

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/MySql/">MySql</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/django/">django</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/linux/">linux</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/scrapy/">scrapy</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/MySql/" style="font-size: 10px;">MySql</a> <a href="/tags/django/" style="font-size: 10px;">django</a> <a href="/tags/linux/" style="font-size: 10px;">linux</a> <a href="/tags/scrapy/" style="font-size: 10px;">scrapy</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/11/">November 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/05/">May 2017</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2017/11/26/Scrapy/">Scrapy笔记</a>
          </li>
        
          <li>
            <a href="/2017/11/26/hello-world/">Hello World</a>
          </li>
        
          <li>
            <a href="/2017/11/01/MySql/">MySql数据库</a>
          </li>
        
          <li>
            <a href="/2017/05/22/django留言板/">django留言板</a>
          </li>
        
          <li>
            <a href="/2017/05/22/linux总结/">Linux</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2017 John Doe<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>

  </div>
</body>
</html>