<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Hexo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta property="og:type" content="website">
<meta property="og:title" content="Hexo">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="Hexo">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Hexo">
  
    <link rel="alternate" href="/atom.xml" title="Hexo" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
  

</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Hexo</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://yoursite.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main">
  
    <article id="post-Scrapy" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/11/26/Scrapy/" class="article-date">
  <time datetime="2017-11-26T08:12:40.419Z" itemprop="datePublished">2017-11-26</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>###爬虫<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">url模块综合url和lib的一个包</span><br><span class="line"> </span><br><span class="line">第一部分是协议：http,https,ftp,file,ed2k…</span><br><span class="line"></span><br><span class="line">第二部分是存放资源的服务器的域名系统或IP地址（有时候要包含端口号，各种传输协议都有默认的端口，如http的默认端口是80）</span><br><span class="line"></span><br><span class="line">第三部分是资源的具体地址，如目录或者文件名等</span><br></pre></td></tr></table></figure></p>
<p>##python中操作文件步骤<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">1. 打开文件，得到文件句柄并赋值给一个变量 </span><br><span class="line"> f.open(&apos;a.txt&apos;,&apos;w&apos;,encoding=&apos;utf-8&apos;)</span><br><span class="line">2. 通过句柄对文件进行操作</span><br><span class="line">  data = f.read()</span><br><span class="line">3. 关闭文件</span><br><span class="line"> f.close()</span><br></pre></td></tr></table></figure></p>
<p>###计算机操作系统分为:硬件,操作系统,应用程序</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">工作过程:</span><br><span class="line">由应用程序向操作系统发起系统调用open();</span><br><span class="line">操作系统打开文件,返回文件句柄给应用程序;</span><br><span class="line">应用程序赋值给变量</span><br></pre></td></tr></table></figure>
<blockquote>
<p>selenium自动下拉,模仿按键精灵</p>
<p>MVC 模型视图控制器</p>
</blockquote>
<p>###HTTP<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">HTTP协议是一个无状态的协议，同一个客户端的这次请求和上次请求是没有对应关系。</span><br><span class="line"></span><br><span class="line">MIME:设定某种扩展名的文件用一种应用程序来打开的方式类型，当该扩展名文件被访问的时候，浏览器会自动使用指定应用程序来打开</span><br></pre></td></tr></table></figure></p>
<p>###HTTP工作流程:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">1.客户机和服务器建立连接,单机超链接,http开始工作</span><br><span class="line">2.建立连接后,客户机发送请求给服务器,发送格式为:</span><br><span class="line">	统一资源标识符(URL),</span><br><span class="line">	协议版本号,</span><br><span class="line">	MIME:请求修饰符,客户机信息</span><br><span class="line">3.服务器接到请求,回应响应信息,返回格式为:</span><br><span class="line">	信息协议版本号,</span><br><span class="line">	成功或错误码,</span><br><span class="line">	MIME:服务器信息,实体信息,可能内容</span><br><span class="line">4.客户机接到服务器返回信息通过浏览器显示在用户显示屏,客户机与服务器断开连接</span><br></pre></td></tr></table></figure></p>
<p>###计算10天前是几号<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">import datetime</span><br><span class="line">from datetime import timedelta</span><br><span class="line">(datetime.datetime.now() - datetime.timedelta(days = 10)).strftime(&quot;%Y-%m-%d&quot;)</span><br></pre></td></tr></table></figure></p>
<p>###网络爬虫的原理 网络请求 抓取结构化数据 数据存储<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">1.打开浏览器,输入URL,打开源网页</span><br><span class="line">2.选取我们想要的内容</span><br><span class="line">3.存入到硬盘中</span><br></pre></td></tr></table></figure></p>
<p>###集合<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">随机删除元素:popitem()</span><br></pre></td></tr></table></figure></p>
<p>###Apache和Tomcat比较<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">相同:</span><br><span class="line">	都是Apache组织开发的</span><br><span class="line">	都有HTTP服务功能</span><br><span class="line">	都是免费的</span><br><span class="line">不同:</span><br><span class="line">	Apache专门提供HTTP服务,以及虚拟主机,URL转发,而Tomcat是Apache组织在符合JAvaEE的标准下开发的一个JSP服务器</span><br><span class="line">	Apache是一个Web服务器环境程序,不过只支持静态网页,对于动态网页需要JSP解释器来执行动态网页</span><br></pre></td></tr></table></figure></p>
<blockquote>
<p>Nginx是一个高性能的HTTP和反向代理服务器,十分轻量级的HTTP服务器</p>
</blockquote>
<p>###网页爬虫的基本工作原理<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">选取种子URl</span><br><span class="line">将代抓取URl放入代抓取URL队列</span><br><span class="line">从代抓取队列中抓取URL,解析DNS,并且得到主机ip,并将URL对应的网页下载下来,存储到已经下载的网页库中,将已经住区url存入已经抓取的URL队列</span><br></pre></td></tr></table></figure></p>
<p>###用于转化header<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ctrl+r转换头部为字典:</span><br><span class="line">(.*): (.*)  |    &amp;</span><br><span class="line">&quot;$1&quot;: &quot;$2&quot;, |    \n</span><br></pre></td></tr></table></figure></p>
<p>###积累<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">1.json.dumps:将字典转化为json</span><br><span class="line">  json.loads:将json转化为字典</span><br><span class="line"></span><br><span class="line">2.没有验证码情况下模拟豆瓣登陆使用首页的地址和header头</span><br><span class="line"></span><br><span class="line">3.调用函数:</span><br><span class="line">  if __name__ == &apos;__mian__&apos;:</span><br><span class="line">        login()</span><br><span class="line"></span><br><span class="line">4.request.urlretrieve(): 下载 p1:下载地址 p2:文件保存路径</span><br><span class="line">  re.S换行符号</span><br><span class="line">  下载图片: from urllib import request</span><br><span class="line">      fname = pic.split(&apos;/&apos;)[-1]  切割后去取最后一位;</span><br><span class="line">      request.urlretrieve(pic,&apos;./images/&apos; + fname)  下载图片;</span><br><span class="line"></span><br><span class="line">5.session:存在服务器端基于cookie实现 存放形式:数据库,文件,内存</span><br><span class="line">  session多台服务器的共享: 单独建立缓存服务器,多台服务器共同使用</span><br><span class="line">  cookie:存在客户端浏览器的用户信息</span><br></pre></td></tr></table></figure></p>
<p>###cookie<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">from http import cookiejar:导入cookie管理器,存储cookie</span><br><span class="line">cookie = cookiejar.CookieJar:做个cookie对象</span><br><span class="line">cookie_hander = request.HTTPcookieProcessor(cookie) :可以管理cookie的管理器</span><br><span class="line">opener = request.build_opener(cookie_hander)</span><br></pre></td></tr></table></figure></p>
<p>##第四天  正则表达式<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">1.电话 邮箱 账号 密码 IP地址 校验</span><br><span class="line"></span><br><span class="line">2.目标字符匹配</span><br><span class="line">  \d : 匹配数字(0-9),匹配一次            |  \D:非\d</span><br><span class="line">  \w : 匹配数字 字母 下划线(包括大写)     |  \W:非\w</span><br><span class="line">  \s : 匹配一个空格                      |  \S:非\s</span><br><span class="line"></span><br><span class="line">  . : 匹配任意字符</span><br><span class="line">  \ : 转义字符 (两个斜杠时,在匹配项的引号前加r转义,载原字符串也加r)</span><br><span class="line">  + : 前面的匹配项重复1-N次</span><br><span class="line">  * : 前面字符,重复0-N次</span><br><span class="line">  ? : 前面字符,重复0次或1次</span><br><span class="line"></span><br><span class="line">  &#123;n,m&#125;: 重复n-m次</span><br><span class="line">  [0-9a-zA-Z,#]: 匹配0-9a-zA-Z逗号#号,匹配任意一个</span><br><span class="line">  [0-9a-zA-Z,#]+: 匹配0-9a-zA-Z逗号#号,匹配符合全部的,到不合适的结束</span><br><span class="line">  [^]:非[]号中的</span><br><span class="line">  ():分组概念</span><br><span class="line">     group(0)</span><br><span class="line">     group(1)</span><br><span class="line">     group(2)</span><br><span class="line">  ^ : 以规则开始</span><br><span class="line">  $ : 以规则结束</span><br><span class="line"></span><br><span class="line">  注意:</span><br><span class="line">    1. . *匹配默认是贪婪模式</span><br><span class="line"></span><br><span class="line">  re.compile(): 编译规则,参数就是规则</span><br><span class="line">  match方法:从开始位置查找,一次匹配</span><br><span class="line">  search方法:检索目标字符串,返回第一次出现符合规则的字符串;为匹配到返回none;</span><br><span class="line">  findall方法:匹配全部,返回结果是列表</span><br><span class="line">  finditer方法:迭代器 只能迭代一次</span><br><span class="line">  res.group()   取出匹配到的</span><br></pre></td></tr></table></figure></p>
<p>##day5:反反爬<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">1.headers</span><br><span class="line">2.cookie</span><br><span class="line">3.USER_AGENT</span><br><span class="line">4.proxy 代理</span><br><span class="line">    1.网上获取免费代理</span><br><span class="line">        西刺:速度越快,时间越短</span><br><span class="line">	2.购买IP</span><br><span class="line">5.时间间隔 timeout timesleep</span><br><span class="line">6.并发:多线程</span><br><span class="line">    seleinum -----&gt;  phanomjs</span><br><span class="line"></span><br><span class="line">反爬虫手段:</span><br><span class="line">    urllib User-Agent;  timeout timesleep; 验证码; Pathtomjs selenium;</span><br><span class="line"></span><br><span class="line">7.print(&apos;crawing page %s&apos; % base_url) #打印获取页数路径</span><br><span class="line">  f.readlines() : 读取每一行</span><br></pre></td></tr></table></figure></p>
<p>###周一: 如何解析页面,提取数据<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">requests:安装 pip install requests</span><br><span class="line">  优点:有长链接,保存链接,节省资源 封装简单化</span><br><span class="line">  缺点:第三方封装模块,发生问题概率大于url</span><br><span class="line"></span><br><span class="line">  jsonpath:构建规则,专门提取json数据  参数1 数据参数:字典 ;参数2 匹配规则</span><br><span class="line">       jsonpath.jsonpath()</span><br><span class="line">       $:从根节点开始匹配</span><br><span class="line">       $ ..: 不管位置,选择所有适合条件的</span><br><span class="line">       *:匹配所有元素节点</span><br><span class="line">  xpath: xml: 不经常使用</span><br><span class="line">       path:转化html为节点,提取数据</span><br><span class="line">       .:当前节点</span><br><span class="line">  bs4:基于正则封装</span><br><span class="line"></span><br><span class="line">requests 模块:</span><br><span class="line">get请求:</span><br><span class="line">    params=&#123;&apos;wd&apos;,&apos;ip&apos;&#125;  传入类型为字典,放在路径后面</span><br><span class="line">    response.encoding(&apos;gbk&apos;) 转换编码格式</span><br><span class="line">post请求:</span><br><span class="line">    登陆页面 加header  加data</span><br><span class="line"></span><br><span class="line">cookie的存储:</span><br><span class="line">        建立会话</span><br><span class="line">        sess = resuests.session()</span><br><span class="line">        sess.get()   #发送get请求</span><br><span class="line">        sess.post()  #发送post请求</span><br><span class="line"></span><br><span class="line">如何加代理:</span><br><span class="line">proxy = &#123;</span><br><span class="line">    &apos;http&apos; : &apos;http://ip:端口号&apos;,</span><br><span class="line">    &apos;https&apos; : &apos;https://ip:端口号&apos;,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>##周二:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">BeautifulSoup4:</span><br><span class="line">直接获取，获取第一个</span><br><span class="line">	print(html.p.attrs) ;获取p的所有属性，</span><br><span class="line">	print（html.p[&apos;class&apos;]）;获取单个属性</span><br><span class="line">	</span><br><span class="line">	html.p.find_all(&apos;b&apos;); 获取所有p标签下的b标签</span><br><span class="line">	html.find_all(&apos;p&apos;,&apos;b&apos;);可以传入多个标记</span><br><span class="line">	</span><br><span class="line">	html.find_all(id=&apos;link1&apos;);根据id获取</span><br><span class="line">	html.find_all(&apos;p&apos;,attrs=&#123;&apos;class&apos;:&apos;title&apos;&#125;);根据属性过滤标记，attrs,需要传入字典</span><br><span class="line"></span><br><span class="line">CSS选择器：</span><br><span class="line"></span><br><span class="line">	html.select(&apos;p.title&apos;)；类过滤class</span><br><span class="line">	html.select(&apos;a#link1&apos;); id过滤 id</span><br><span class="line">	html.select(&apos;&apos;)</span><br><span class="line">	html.select(&apos;p[class=&quot;title&quot;]&apos;); 单个查询；</span><br><span class="line">	</span><br><span class="line">	html.select(&apos;p[class*=&quot;&quot;]&apos;);模糊查询；</span><br><span class="line">	html.select(&apos;p[class=&quot;&quot;]&apos;);模糊查询；</span><br><span class="line">	html.select(&apos;p[class*=&quot;&quot;]&apos;);模糊查询；</span><br><span class="line"></span><br><span class="line">content ;取内容和标签；</span><br><span class="line"></span><br><span class="line">解析数据:</span><br><span class="line">    xpath; BeautifulSoup;lxml;CSS选择器</span><br></pre></td></tr></table></figure></p>
<p>##周三: 并发量:提高采集效率<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line">多进程:cpu资源分配的最小单位</span><br><span class="line">	  适合计算密集型应用 cpu密集型(对cpu消耗非常大)</span><br><span class="line">	</span><br><span class="line">线程: cpu调度的最小单位</span><br><span class="line">	  线程之间调度由操作系统来决定</span><br><span class="line">	  适合IO(输入输出 input output) 密集型应用</span><br><span class="line">	  爬虫主要就是网络IO(request:输出 response:输入)</span><br><span class="line">	</span><br><span class="line">协程:轻量级线程,单进程,单线程,写程序(代码)来调度(切换)程序</span><br><span class="line">	</span><br><span class="line">分布式:数据量非常大(PB),把程序部署到多台机器上</span><br><span class="line">	  优点:并发量大</span><br><span class="line">	  缺点:成本较高;网络带宽限制分布式爬虫</span><br><span class="line"></span><br><span class="line">#线程模块:</span><br><span class="line">import threading</span><br><span class="line"></span><br><span class="line">    线程函数传入参数</span><br><span class="line">    t1 = threading.Thread(target=foo3,args=(1,))</span><br><span class="line"></span><br><span class="line">    join();确保运行完毕,继续运行进程,阻塞进程,串行</span><br><span class="line">        1.join方法主要是阻塞住进程(无法执行join语句后的语句),专注多进程</span><br><span class="line">        2.多线程情况下,前一个结束才执行后面一个</span><br><span class="line">        3.无参数,则等待该线程结束,才开始执行下一个线程的join</span><br><span class="line">        4.</span><br><span class="line">    t.is_alive();判断线程存活状态 ,若存活返回true,若不存活返回flase</span><br><span class="line"></span><br><span class="line">    栈: 先进后出,后进先出 递归</span><br><span class="line">    队列:先进先出,后进后出,线程安全,操作后锁定</span><br><span class="line">    列表;非线程安全的</span><br><span class="line">    super(Crawl,self ) 调用父类初始化方法;</span><br><span class="line"></span><br><span class="line">#队列模块:</span><br><span class="line">import queue</span><br><span class="line">    q = queue.Queue()  队列;</span><br><span class="line">    q.put(1)  放数据;</span><br><span class="line">    q.get(1)  取数据;</span><br><span class="line">    q.get(timeout) 设置超时时间;</span><br><span class="line">    q.qsize  求出队列长度;</span><br><span class="line"></span><br><span class="line">创建队列 初始化在def __init__()</span><br></pre></td></tr></table></figure></p>
<p>###周四:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line">反爬虫手段:</span><br><span class="line">    遇到ajax,请求 抓包工具,找到数据接口(最理想的)</span><br><span class="line">    自动化测试工具 配合 浏览器来完成模拟用户真实操作自动化</span><br><span class="line">把Selenium和PhantomJS结合在一起,是一个强大的网络爬虫,可以处理JavaScrip,Cookie,headers,以及我们真实用户实现的任何操作</span><br><span class="line"></span><br><span class="line">Selenium: 可以按照指定的命令自动操作,可以按照指令自行加载页面,进行截屏</span><br><span class="line">          Selenium自己不带浏览器,不支持浏览器功能,需要与第三方浏览器结合在一起才能使用</span><br><span class="line">          但我们有时候需要内嵌代码执行,</span><br><span class="line"></span><br><span class="line">PhantomJS;无界面的浏览器,它会把网站加载到内存并执行页面上的 JavaScript，因为不会展示图形界面，所以运行起来比完整的浏览器要高效。</span><br><span class="line">WebDriver :WebDriver 有点儿像可以加载网站的浏览器，但是它也可以像 BeautifulSoup 或者其他 Selector 对象一样用来查找页面元素，</span><br><span class="line">        与页面上的元素进行交互 (发送文本、点击等)，以及执行其他动作来运行网络爬虫。</span><br><span class="line"></span><br><span class="line">    理念:所见即所得</span><br><span class="line">    browser---selenium(自动化测试工具) phantomsjs</span><br><span class="line">    selenium 安装;</span><br><span class="line">        pip install selenium</span><br><span class="line">    phantomsjs安装:</span><br><span class="line">        解压</span><br><span class="line">        配置环境变量:</span><br><span class="line">        系统变量Path : bin目录</span><br><span class="line"></span><br><span class="line">     按键精灵 ---自动打怪:提供很多鼠标和键盘的API接口</span><br><span class="line"></span><br><span class="line">#导入webdriver</span><br><span class="line">#from selenium import webdriver</span><br><span class="line">    browser.webdriver.PhantomJS()  #调用环境变量指定的phantomJS浏览器创建浏览对象</span><br><span class="line">    browser.get(&apos;网页地址&apos;)</span><br><span class="line">    time.sleep(1)   请求1秒</span><br><span class="line">    print(browser.page_source)  输出爬到的页面</span><br><span class="line">    # key是要传入的参数 by_name;可以根据name属性查找</span><br><span class="line">    browser.find_element_by_id(&apos;kw&apos;).send_keys(&apos;双十一&apos;)   根据id找到相应标签,传入要搜素的内容</span><br><span class="line">    browser.save_screenshot(&apos;baidu.png&apos;) 查看浏览器状态,截图显示;</span><br><span class="line">    browser.find_element_by_id(&apos;su&apos;).click()  找到百度知道,然后点击</span><br><span class="line">    browser.execute_script()  执行js代码</span><br><span class="line">    time.sleep(1)</span><br><span class="line">查找类:</span><br><span class="line">    BeautifulSoup 取数据时候: 属性id # ; 属性class .</span><br><span class="line">    span[class*=&quot;tag ellipsis&quot;][0].text 取span下的复合class的值;</span><br><span class="line"></span><br><span class="line">mysql数据库:</span><br><span class="line">    1.连接数据库         conn = pymysql.connect(ip,账号,密码,库,编码)</span><br><span class="line">    2.创建数据库操作对象</span><br><span class="line">    3.构建sql语句</span><br><span class="line">    4.执行sql语句  sql = &apos;select version()&apos;</span><br><span class="line">    5.获取执行结果</span><br><span class="line">        增删改:影响行数</span><br><span class="line">        查询:获取结果集</span><br><span class="line"></span><br><span class="line">    增删改操作需要提交;</span><br><span class="line">    conn.commit()  提交事物;</span><br><span class="line">    mydb.exe(sql) 执行语句</span><br></pre></td></tr></table></figure></p>
<p>##day 5:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line">    php集成开发环境里面有mysql:lnmp lamp negix</span><br><span class="line">	selenium包的webdriver 自动化获取;</span><br><span class="line"></span><br><span class="line">百度图片瀑布流:</span><br><span class="line">    document.body.scrollHeight  页面高度;</span><br><span class="line">    scrollTo(0,document.body.scrollHeight)  页面滚动到底部;</span><br><span class="line">    scrollTo(0,0)  页面滚动到顶部;</span><br><span class="line"></span><br><span class="line">    browser.execute_script()  执行js代码</span><br><span class="line"></span><br><span class="line">XPATH:</span><br><span class="line">from lxml import etree:   导入包,使用的是直接找div的方法</span><br><span class="line">    ./image/@src  获取图片的src属性; xpath</span><br><span class="line">    在scrapy中使用xpath要在末尾加 .extract()</span><br><span class="line"></span><br><span class="line">CSS选择器:</span><br><span class="line">    name = teacher.css(&apos;h1::text&apos;).extract()[0] 获取文本</span><br><span class="line">    image = teacher.css(&apos;img::attr(src)&apos;).extract()[0]</span><br><span class="line"></span><br><span class="line">报错原因:</span><br><span class="line">    10061:网络问题</span><br><span class="line">    403 For:服务器拒绝访问</span><br><span class="line"></span><br><span class="line">    scrapy Engine(引擎):负责Spider,ItemPipeline,Downloader,Scheduler中间的通讯,信号,数据传递等</span><br><span class="line">    Scheduler(调度器):负责搜素引擎发送过来的Request请求,并按照一定的方式进行整理队列,入队(Queue),当引擎需要时,交换给引擎</span><br><span class="line">    Downloader(下载器):负责下载scrapy Engine(引擎)发送的Request请求,并且将获取到的Response,交换给引擎,由引擎交给Spider来处理</span><br><span class="line">    Spider(爬虫):它负责处理所以Response,从中分析提取数据,获取item字段需要的数据,并将需要跟进的URL提交给引擎,再进入Scheduler调度器</span><br><span class="line">    Item Pipeline(管道):它负责处理Spider中获取item,并且进行后期处理(详细分析,过滤,存储)</span><br><span class="line">    Downloader Middlewares(下载中间件):自定义扩展功能的组件</span><br><span class="line">    Spider Middlewares(Spider中间件):中间通信</span><br><span class="line">    Item: 定义爬取的字段;</span><br><span class="line"></span><br><span class="line">爬虫四步骤:&apos;</span><br><span class="line">    创建一个新的爬虫项目(Scrapy startproject xxx)</span><br><span class="line">    明确你要爬取的目标 (编写items.py)</span><br><span class="line">    制作爬虫开始爬取网页: spiders/xxspider.py</span><br><span class="line">    设计管道存储爬取内容: pipelines.py</span><br><span class="line"></span><br><span class="line"> 爬取时加参数-o: scrapy crawl xdl -o teacher.json</span><br><span class="line"></span><br><span class="line">关于爬虫的建议:</span><br><span class="line">    尽量减少请求次数,能抓列表页不抓详情页,减轻服务器压力;</span><br><span class="line">    反爬手段可以适用web,手机App和H5</span><br><span class="line">    尽量少用ip去做防守</span><br><span class="line">    要求高性能,可以考虑多线程(Scrapy框架支持),分布式</span><br><span class="line"></span><br><span class="line">加锁, 释放锁;</span><br><span class="line"></span><br><span class="line">python语言的优点;</span><br><span class="line">    优雅,明确,简单</span><br><span class="line">    开发效率高,第三方库强大,降低开发周期,避免重复造车</span><br><span class="line">    高级语言,无需考虑底层实现</span><br><span class="line">    可移植性强,可以在不同平台运行</span><br><span class="line">    可扩展性,可以运用C 或者其他编写,在python中运行</span><br><span class="line">    可嵌入性,可嵌入C/C++,</span><br><span class="line">缺点:</span><br><span class="line">    速度慢,但是对于调试工具而言,用户无法感知</span><br><span class="line">    代码不能加密,因为是解释性语言,代码明文存在</span><br><span class="line"></span><br><span class="line">python中的程序分析包,可以检测程序的运行速度: cProfile</span><br></pre></td></tr></table></figure></p>
<blockquote>
<p>Request:url地址，方法，headers,cookie</p>
</blockquote>
<p>##day3:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line">反爬虫手段:</span><br><span class="line">    urllib User-Agent 随机的选择浏览器身份 ;</span><br><span class="line">    proxy 随机挑选代理发起请求代理 ;</span><br><span class="line">    timeout timesleep; 验证码; Pathtomjs selenium;</span><br><span class="line"></span><br><span class="line">如何导入setting配置:</span><br><span class="line">    如何导入settings 配置</span><br><span class="line">    1.</span><br><span class="line">    from py03_spider_day13 import settings</span><br><span class="line">    settings.USER_AGENTS</span><br><span class="line">    2.</span><br><span class="line">    from scrapy.conf import settings</span><br><span class="line">    settings[&apos;USER_AGENTS&apos;]</span><br><span class="line">    3.</span><br><span class="line">    @classmethod</span><br><span class="line">    def from_crawler(cls,crawler):</span><br><span class="line">        return cls(crawler)</span><br><span class="line"></span><br><span class="line">管理user-agent的包:fake-useragent</span><br><span class="line">    ua.random  随机 user-agent;</span><br><span class="line"></span><br><span class="line">一个中间件就是一个类,静态方法先加载</span><br><span class="line">__init__()方法是一种特殊的方法,被称为类的构造函数或初始化方法,当创建这个类的实例时调用该方法</span><br><span class="line"></span><br><span class="line">redis:缓存型数据库,数据存在内存中</span><br><span class="line">    1.指纹识别机制</span><br><span class="line">    2.统一管理请求队列</span><br><span class="line">    3.爬取数据统一管理</span><br><span class="line"></span><br><span class="line">Scrapy框架:</span><br><span class="line"></span><br><span class="line">     进入：(win)Scripts\activate</span><br><span class="line">	       (linux)source activate</span><br><span class="line">     scrapy startproject scrpy_test 创建项目</span><br><span class="line">     scrapy genspider baidu www.baidu.com   需要进入项目目录</span><br><span class="line">     scrapy genspider -t crawl baidu www.baidu.com</span><br><span class="line">     scrapy crawl baidu      启动项目</span><br><span class="line"></span><br><span class="line">     split 以指定字符切割字符串 转换成列表</span><br><span class="line">     strip() 方法用于移除字符串头尾指定的字符（默认为空格）转换后成列表</span><br><span class="line">     replace() 方法把字符串中的 old（旧字符串） 替换成 new(新字符串)，如果指定第三个参数max，则替换不超过 max</span><br><span class="line">	 strip() 去掉空格;</span><br><span class="line">     replace(&apos;万&apos;,&apos;&apos;)  去掉万;</span><br><span class="line"></span><br><span class="line">打开redis方法:</span><br><span class="line">在setting文件中配置:</span><br><span class="line">  </span><br><span class="line">    Linux:</span><br><span class="line">        cd redis</span><br><span class="line">        cd src</span><br><span class="line">        ./redis-server /etc/redis.conf</span><br><span class="line"></span><br><span class="line">    window:</span><br><span class="line">		redis-server.exe redis.windows.conf</span><br><span class="line">        redis-cli -h 192.168.103.110</span><br><span class="line">        lpush liepinspider:urls https://www.liepin.com</span><br><span class="line">        keys *</span><br></pre></td></tr></table></figure></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2017/11/26/Scrapy/" data-id="cjaghm3m50000h4v1oyupk8r5" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-linux总结" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/11/26/linux总结/" class="article-date">
  <time datetime="2017-11-26T08:12:21.209Z" itemprop="datePublished">2017-11-26</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="第一天"><a href="#第一天" class="headerlink" title="第一天"></a>第一天</h2><p>###linux 命令</p>
<p>####ls 命令<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">ls -l   文件或者目录下面的内容</span><br><span class="line">ls      显示目录下的内容</span><br><span class="line">ls -l   长格式显示文件的内容 #ls -l+名称显示信息</span><br><span class="line">ls -hl  显示文件的大小 单位为 K M G</span><br><span class="line">ls -a   显示所有文件 包括隐藏文件.</span><br><span class="line">ls -all 长格式显示所有的文件信息 </span><br><span class="line">ls -ld  显示目录的属性</span><br></pre></td></tr></table></figure></p>
<p>###目录的操作命令</p>
<p>###cd 命令<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">cd         切换目录的命令</span><br><span class="line">cd -       回到上一次操作的目录,进行目录切换前的目录</span><br><span class="line">cd | cd ~  都可以直接回到家目录</span><br><span class="line">cd ..      返回到上一级的目录</span><br><span class="line">cd .  	   进入到当前的目录</span><br><span class="line">pwd        显示当前所在的目录  </span><br><span class="line">相对路径：相对于文件所在位置的路径  </span><br><span class="line">绝对路径:有盘符表示的绝对路径</span><br></pre></td></tr></table></figure></p>
<p>###linux中常见的系统目录</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">/   表示系统的根目录</span><br><span class="line">/bin  所有的linux保存的命令 # 普通用户可读</span><br><span class="line">/boot 启动目录可以启动相关的文件</span><br><span class="line">/dev  设备文件保存的目录 </span><br><span class="line">	/dev/sr0 /dev/cdrom 光驱设备 </span><br><span class="line">	/dev/sda 硬盘设备</span><br><span class="line">/etc   配置文件保存的目录</span><br><span class="line">/mnt | /media   系统挂载的目录</span><br><span class="line">/home   建立的普通用户保存的目录</span><br><span class="line">/root   超级用户的家目录</span><br><span class="line">/tmp    临时目录</span><br><span class="line">/proc   直接写入内存</span><br><span class="line">/sys    </span><br><span class="line">/sbin   命令保存目录，超级用户可以使用</span><br><span class="line">/usr    系统软件资源目录</span><br><span class="line">    /usr/bin 普通用户的系统命令</span><br><span class="line">    /usr/sbin 超级用户的系统命令</span><br><span class="line">/var   系统相关的文档保存的目录</span><br><span class="line">     /var/log  系统日志的位置</span><br><span class="line">	 /var/spool/mail 系统默认邮箱保存的位置</span><br><span class="line">	 /var/lib   默认安装的库文件目录</span><br></pre></td></tr></table></figure>
<h3 id="目录的命令"><a href="#目录的命令" class="headerlink" title="目录的命令"></a>目录的命令</h3><p>###建立目录 mkdir<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">mkdir python  建立单个目录的命令</span><br><span class="line">mkdir -P a/b/c 递归建立目录   </span><br><span class="line">	-p递归建立目录的命令</span><br><span class="line">&lt;/pre&gt; </span><br><span class="line">&gt;删除目录的方法 rmdir </span><br><span class="line">&lt;pre&gt;</span><br><span class="line">rmdir python  删除空目录的方法</span><br><span class="line">rm 文件名  删除文件</span><br><span class="line">rm -rf 目录  强制删除文件和目录</span><br><span class="line">   -r  递归删除目录</span><br><span class="line">   -f  强制删除</span><br><span class="line">出现H时 :Ctrl+删除键</span><br></pre></td></tr></table></figure></p>
<p>##第二天 Linux 命令</p>
<p>###文件操作命令<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">1.touch 创建空文件 </span><br><span class="line">2.rm -rf 文件名  删除文件</span><br><span class="line">     -r  删除目录</span><br><span class="line">     -f  强制</span><br><span class="line">3.查看文件内容 </span><br><span class="line">  cat 文件名 Shift+PgUp 向上翻页  Shift+PgUp 向下翻页</span><br><span class="line">  cat -n 文件名  显示行号 适合查看文件内容少的文件、</span><br><span class="line">  more 文件名 分页显示文件内容 空格向下 b 向上 q退出</span><br><span class="line">  head -n 20 文件名  查看文件前20行  head默认查看前10行</span><br><span class="line">  tail -n 30 文件名  查看文件后20行  tail默认查看后30行</span><br><span class="line">4.快捷键</span><br><span class="line"> 清屏： clear=ctrl+l</span><br><span class="line"> 强制终止：ctrl+c  yes</span><br><span class="line"> 退出系统：exit=ctrl+d</span><br><span class="line"> Tab补全功能</span><br><span class="line">5.ln -s 同目录下创建链接文件</span><br><span class="line">  ln -s 跨目录创建的时候使用绝对路径</span><br></pre></td></tr></table></figure></p>
<p>###文件和目录都可以操作的命令<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">1.复制命令</span><br><span class="line">  cp     复制文件</span><br><span class="line">  cp -r  复制目录   -a=-pdr</span><br><span class="line">2.剪切与改名</span><br><span class="line">  mv a.txt py   剪切c.txt到目录py</span><br><span class="line">  mv b.txt py.txt 改名</span><br></pre></td></tr></table></figure></p>
<p>###权限管理<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">1.  -rw-r--r-- 644 root root install.log 系统默认的文件权限</span><br><span class="line">	drwxr-xr-x 755 root root py 系统默认的目录权限</span><br><span class="line">	lrwxrwxrwx 777 root root a.ln 链接文件权限</span><br><span class="line">	权限位 十位</span><br><span class="line">	第一位 文件类型 ： - 普通文件 d 目录 l 链接文件</span><br><span class="line">	第二三四位 属主权限 u-user rw- 6</span><br><span class="line">	第五六七位 属组权限 g - group r-- 4</span><br><span class="line">	第八九十位 其它人权限 o - other r-- 4</span><br><span class="line">	r 可读 w 可写 x 可执行 - 无权限</span><br><span class="line">	4 2 1 0</span><br><span class="line">2.权限管理  chmod</span><br><span class="line">  chmod u-r,g+w,o+x a.py</span><br><span class="line">  chmod u=r a.py 对u赋予权限r</span><br><span class="line">  chmod a=rwx a.py 对所有用户赋予权限rwx</span><br><span class="line">  chmod 755 a.py</span><br><span class="line">  chmod 644 a.py</span><br><span class="line">  chmod 777 a.py</span><br><span class="line">  chmod 000 a.py</span><br><span class="line">3.nano 纳米编辑器  nano a.py</span><br></pre></td></tr></table></figure></p>
<p>###修改文件属主属组<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">1.chown zzb a.py  属主</span><br><span class="line">2.chown zzb:zzb a.py 同时修改</span><br></pre></td></tr></table></figure></p>
<p>##第三天</p>
<p>###帮助命令<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">man 命令名  命令的解释</span><br><span class="line">命令 --help  帮助选项</span><br></pre></td></tr></table></figure></p>
<p>###查找命令<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">1.whereis 命令名  查找文件的位置</span><br><span class="line">2.查找</span><br><span class="line">1）按照文件名查找 -name -iname不区分大小写</span><br><span class="line">  find / -name a.txt</span><br><span class="line">2）按照用户查找 -user -group -nouser无主</span><br><span class="line">  find / -group zzb</span><br><span class="line">3)按照文件权限查找 -prem 755 644 777 000</span><br><span class="line">  find /root -prem 644</span><br><span class="line">4)按照文件大小查找 -size K M G</span><br><span class="line">  find / -size +10k</span><br><span class="line">  find / -size +10k -a -size -16k 查找范围 -a and</span><br><span class="line">5)按照文件类型查找 -type  l 链接 f 普通文件 d 目录</span><br><span class="line">  find / -type l</span><br></pre></td></tr></table></figure></p>
<p>###查找文件内容 grep<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">grep &quot;root&quot; install.log 查找含root的内容</span><br><span class="line">     -n 显示行号</span><br><span class="line">     -i 不区分大小写</span><br><span class="line">     -v 反向查找</span><br></pre></td></tr></table></figure></p>
<p>###管道符<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ls -l /etc | more</span><br><span class="line">cat -n install.log | grep &quot;root&quot;</span><br></pre></td></tr></table></figure></p>
<p>###压缩与解压缩  两种形式文件目录都能使用</p>
<p>###.tar.gz<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">tar -zcvf py03.tar.gz a.py b.py     压缩文件</span><br><span class="line">tar -ztvf py03.tar.gz               查看不解压</span><br><span class="line">tar -zxvf py03.tar.gz               解压缩</span><br><span class="line">tar -zxvf py03.tar.gz -C py         定向解压缩</span><br></pre></td></tr></table></figure></p>
<p>###.tar.bz2<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">tar -jcvf py.tar.bz2 py             解压目录</span><br><span class="line">tar -jtvf py.tar.bz2                查看不解压</span><br><span class="line">tar -jxvf py.tar.bz2                解压缩</span><br><span class="line">tar -jxvf py.tar.bz2 -C py          定向解压缩</span><br></pre></td></tr></table></figure></p>
<p>###关闭与重启命令<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">shutdown -h now  现在关机</span><br><span class="line">shutdown -r now  现在重启</span><br><span class="line">reboot           重启系统</span><br></pre></td></tr></table></figure></p>
<p>###挂载命令<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">1.挂载</span><br><span class="line">  mount 设备名（光盘/U盘/移动硬盘） 挂载点（自己定义/mnt/media）</span><br><span class="line">  (mkdir /mnt/usb  mkdir /media/cdrom)</span><br><span class="line">  mount /dev/sr0(/dev/cdrom) /mnt(/media)</span><br><span class="line">2.卸载要先退出挂载点</span><br><span class="line">  umount /dev/sr0 umount /media</span><br><span class="line">3.查看设备名</span><br><span class="line">  fdisk -l</span><br></pre></td></tr></table></figure></p>
<p>###网络命令<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">1.查看网络设备</span><br><span class="line">  ifconfig</span><br><span class="line">2.设置临时IP</span><br><span class="line">  ifconfig eth0 192.168.103.132 需要重启</span><br><span class="line">  ifconfig 确认</span><br><span class="line">3.测试网络的连通性</span><br><span class="line">  ping -c 5 192.168.103.132</span><br></pre></td></tr></table></figure></p>
<p>###vim编辑器<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">1.三种模式：命令模式 插入模式 末行模式</span><br><span class="line">2.退出的几种形式ESC:</span><br><span class="line">  wq 保存退出  ：wq! 强制保存退出   w 保存  q 退出  q! 不保存退出</span><br><span class="line">3.光标移动：h j k l  </span><br><span class="line">  移动到第几行 :n</span><br><span class="line">  光标移动到第一行 gg</span><br><span class="line">  光标移动到最后一行 G</span><br><span class="line">4.设置行号 set nu    永久设置：  vim ~/.vimrc   set nu</span><br><span class="line">  取消行号 set nonu</span><br><span class="line">5.复制一行 yy   复制多行 nyy</span><br><span class="line">6.粘贴 p</span><br><span class="line">7.删除(剪切) x       删除多行 nx</span><br><span class="line">8.删除（剪切）dd     多行 ndd     dG 光标到文件末尾全部删除</span><br><span class="line">9.撤销 u  反撤销 ctrl+r</span><br><span class="line">10.颜色开关 ：syntax on   :syntax off</span><br><span class="line">11.查找：/查找内容   n向下   N向上</span><br><span class="line">12.替换：%s/i686/aaaa/g 全文替换</span><br><span class="line">       ：690，700s/i686/aaa/g 范围替换</span><br><span class="line">13.注释 :690,700s/^/#/g  添加注释     ：690，700s/^#//g  取消注释</span><br><span class="line">       ：690，700s/^/\/\/g 添加注释    ：690，700s/^\/\///g 取消注释</span><br></pre></td></tr></table></figure></p>
<p>##软件包的管理<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">1.源码包 .tar.gz  .tar.bz2   优点：开源自由定制  缺点：编译时间长，一旦报错很难解决</span><br><span class="line">2.二进制包（编译后的包） .rpm</span><br></pre></td></tr></table></figure></p>
<p>###二进制包的管理<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">1.挂载 </span><br><span class="line">  mount /dev/sr0 /media</span><br><span class="line">  cd /media/Packages</span><br><span class="line">2.二进制包安装的方法</span><br><span class="line">  1）rpm命令（手动安装）</span><br><span class="line">  2）yum 自动化安装</span><br></pre></td></tr></table></figure></p>
<p>###rpm手动安装<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">1.rpm 命令  rpm -ivh tree-1.5.3-3.el6.i686.rpm (目录树 查看目录/系统机构)</span><br><span class="line">  rpm + 软件包 进行安装</span><br><span class="line">2.tree 测试</span><br><span class="line">  tree /root</span><br><span class="line">3.升级 rpm -Uvh 软件报名</span><br><span class="line">4.卸载 rpm -r tree 软件名</span><br><span class="line">5.关于使用rpm的查询</span><br><span class="line">  rpm -q  软件名  查询该软件是否被安装        rpm -qa 软件名  查询系统所有安装的二进制包</span><br><span class="line">  rpm -qi 软件名  查询已经安装的软件的信息     rpm -qip 软件包名 查询未被安装的软件包的信息</span><br><span class="line">  rpm -ql 软件名  查询已经安装的软件安装的位置  rpm -qlp 软件报名 查询未被安装的软件包将要安装的位置</span><br><span class="line">  rpm -qf /bin/ls 查询ls属于哪一个软件包  whereis</span><br></pre></td></tr></table></figure></p>
<p>###yum自动化安装<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">1.安装：yum -y install 软件名</span><br><span class="line">  升级：yum -y update  软件名</span><br><span class="line">  卸载：yum -y remove  软件名</span><br><span class="line">2. 挂载</span><br><span class="line">3. 修改网络yum源名称</span><br><span class="line">   cd /etc/yum.repos.d/</span><br><span class="line">   mv CentOS-Base.repo CentOS-Base.repo.bak</span><br><span class="line">4.修改光盘yum源</span><br><span class="line">   vim /etc/yum.repos.d/CentOS-Media.repo</span><br><span class="line">   baseurl=file:///meida/</span><br><span class="line">   gpgcheck=0</span><br><span class="line">   enabled=1</span><br><span class="line">5.安装gcc C语言编辑器 yum -y install gcc</span><br></pre></td></tr></table></figure></p>
<p>###源码包安装<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">远程传输工具 xftp</span><br><span class="line">1.解压缩</span><br><span class="line">2.进入解压缩的目录</span><br><span class="line">3.查看install和readme</span><br><span class="line">4.检测生成configure文件 </span><br><span class="line">  ./configure --prefix=/usr/local/apache2/</span><br><span class="line">5.编译 make</span><br><span class="line">6.编译安装 make install</span><br><span class="line">7.启动服务 /usr/local/apachea2/bin/apachectl start </span><br><span class="line">8.测试 浏览器输入：192.168.103.132</span><br><span class="line">9.卸载：</span><br><span class="line">  关闭服务</span><br><span class="line">  rm -rf /usr/local/apache2</span><br></pre></td></tr></table></figure></p>
<p>##第四天 用户管理和服务管理</p>
<p>###用户管理相关文件<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">1.用户信息文件:/etc/passwd  用户名：密码位：GID(初始组ID):注释：家目录：登录用户   /bin/login允许登录  nologin禁止登陆</span><br><span class="line">  普通用户的UID GID 500 500 开始</span><br><span class="line">2. 密码文件 影子文件 /etc/shadow  权限0000</span><br><span class="line">3. 组信息文件  /etc/group     组名：组密码位：GID:附加组员</span><br></pre></td></tr></table></figure></p>
<p>###用户管理相关命令<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">1.添加用户 useradd 用户名</span><br><span class="line">2.修改初始组 useradd -g aa bb </span><br><span class="line">3.添加附加组员 useradd -G aa cc</span><br><span class="line">4.为用户添加注释 useradd -c &quot;zhushi&quot; dd</span><br><span class="line">5.添加用户修改权限 useradd -s /bin/nologin ee</span><br><span class="line">6.添加用户修改家目录 useradd -d /home/tengxun qq</span><br><span class="line">7.设置密码，修改密码 passwd 用户名</span><br><span class="line">8.删除目录连带家目录一块删除 userdel -r 用户名</span><br><span class="line">9.添加组  groupadd 组名</span><br><span class="line">10.删除组 groupdel 组名</span><br><span class="line">11.添加组员 gpasswd -a 用户 组名</span><br><span class="line">12.删除组员 gpasswd -d 用户 组名</span><br><span class="line">13.查看用户id id用户名</span><br><span class="line">14.切换用户身份 su 用户名</span><br></pre></td></tr></table></figure></p>
<p>###ACL权限 给特殊用户设置权限<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">1.rwxrwxrwxr root root a.py</span><br><span class="line">权限位      属组  属主 文件/目录</span><br><span class="line">2.文件的acl权限</span><br><span class="line">  getfacl 文件名     查看文件的acl权限</span><br><span class="line">  setfacl 选项 文件名 设置文件的acl权限</span><br><span class="line">          -m    设定权限</span><br><span class="line">		  -b    删除权限</span><br><span class="line">  setfacl -m u:用户名：权限 文件名</span><br><span class="line">  setfacl -m g:组名：权限   文件名</span><br><span class="line">  setfacl -x u:用户名 文件名  删除用户的acl权限</span><br><span class="line">  setfacl -b 文件名          全部删除acl权限</span><br><span class="line">3.给目录本身添加acl权限</span><br><span class="line">  setfacl -m u:aa:rwx py03</span><br><span class="line">4.对目录和目录内文件设置acl权限 </span><br><span class="line">  setfacl -m u:a:rwx -R py03</span><br><span class="line">5.对未来文件设置acl权限</span><br><span class="line">  setfacl -m d:u:zzb:rwx -R py03</span><br></pre></td></tr></table></figure></p>
<p>####输出重定向<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&gt; 覆盖   &gt;&gt; 追加</span><br><span class="line">ls &gt; a.bak</span><br><span class="line">ls -l &gt;&gt; a.bak</span><br></pre></td></tr></table></figure></p>
<p>####进程与服务管理</p>
<p>###进程的三个主要任务：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">判断服务器健康状态</span><br><span class="line">查看所有正在运行的进程</span><br><span class="line">强制终止进程</span><br></pre></td></tr></table></figure></p>
<p>###进程查看 ps aux  | psstree | top</p>
<p>####pa aux<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">1.ps aux 查看当前系统运行的所有进程</span><br><span class="line">  -a 显示前台所有的进程</span><br><span class="line">  -u 显示用户名</span><br><span class="line">  -x 显示后台进程</span><br><span class="line">  user:用户名  </span><br><span class="line">  pid: 进程ID </span><br><span class="line">  %CPU:cpu占用百分比</span><br><span class="line">  %MEM:内存占用的百分比</span><br><span class="line">  VSZ: 虚拟内存占用量  kb</span><br><span class="line">  RSS：固定内存占用量</span><br><span class="line">  tty：登录终端     本地终端 tty1 tty2  运程终端 pts/0 pts/1</span><br><span class="line">  stat状态  S:睡眠  D:不可唤醒 R:运行 T:停止 </span><br><span class="line">  start: 进程触发</span><br><span class="line">  time： 占用CPU时间</span><br><span class="line">  command:进程本身 </span><br><span class="line">关闭进程： kill -9 进程号（PID）  -9强制终止</span><br></pre></td></tr></table></figure></p>
<p>####pstree<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">2.pstree 查看进程树</span><br><span class="line">  killall -9 httpd (进程名)</span><br></pre></td></tr></table></figure></p>
<p>####top<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">3.top    查看系统负载和运行情况</span><br><span class="line">  第一行：系统当前时间   系统持续时间  登录用户  1，5，15分钟之前平均</span><br><span class="line">  第二行：进程总数</span><br><span class="line">  第三行：CPU占有率  &amp;id  空闲百分比</span><br><span class="line">  第四行：内存使用  总共  使用   空闲 缓存</span><br><span class="line">  第五行：swap使用</span><br><span class="line">操作命令： M 内存排序  P CPU排序</span><br><span class="line">pkill -9 -t pts/4(用户登录远程终端)</span><br></pre></td></tr></table></figure></p>
<p>###当前用户登录情况<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">whoami  确认当前用户登录名</span><br><span class="line">who     查看系统登陆用户名</span><br><span class="line">w       查看系统运行情况和登录用户的信息</span><br></pre></td></tr></table></figure></p>
<p>###服务管理<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">1.系统默认安装的软件包的服务</span><br><span class="line">2.源码包安装的服务 httpd-2.2.29.tar.gz (apache2)</span><br><span class="line">3.服务是提供功能的软件集合</span><br><span class="line">4.apache 网站服务器 mysql数据库服务器</span><br><span class="line">5.chkconfig --list 查看系统服务和运行状态</span><br><span class="line">6.sshd  远程连接服务  network网络管理服务</span><br></pre></td></tr></table></figure></p>
<p>###运行级别<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">1.runlevel  查看系统运行级别</span><br><span class="line">2.查看运行级别的文件 vim /etc/inittab</span><br><span class="line">  int 0  关机</span><br><span class="line">  init 1 救援模式</span><br><span class="line">  init 3 服务器模式（多用户字符模式）</span><br><span class="line">  init 5 x11 图形界面 开发工作人员</span><br><span class="line">  init 6 重启系统</span><br></pre></td></tr></table></figure></p>
<p>###系统默认安装的软件包的服务路径<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">1.绝对路径  /etc/rc.d/init.d/sshd start | stop |restart</span><br><span class="line">2.命令 service sshd start | stop |restart | status</span><br></pre></td></tr></table></figure></p>
<p>###开机自启动<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">1.命令chkconfig </span><br><span class="line">  chkconfig --list 查看</span><br><span class="line">  chkconfig --level 245 sshd on | off</span><br><span class="line">  chkconfig --list</span><br><span class="line">2.写入文件 永久开机自启</span><br><span class="line">  vim /etc/rc.local</span><br><span class="line">  /etc/rc.d/init.d/sshd start</span><br></pre></td></tr></table></figure></p>
<p>###原码包安装的服务管理<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">1.手动管理</span><br><span class="line">  /usr/local/apache2/bin/apachectl start | stop | restart</span><br><span class="line">2.开机自启动</span><br><span class="line">  vim /etc/rc.local</span><br><span class="line">  /usr/local/apache2/bin/apachectl start</span><br></pre></td></tr></table></figure></p>
<p>###计划任务<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">1.定时任务  命令 * * * * *</span><br><span class="line"> crontab -e 编辑计划任务</span><br><span class="line"> 第一个*： 一天中的第几分钟  0-59</span><br><span class="line"> 第二个*： 一天中的第几小时  0-23</span><br><span class="line"> 第三个*：第几天            1-31</span><br><span class="line"> 第四个*：第几月            1-12</span><br><span class="line"> 第五个*：周几              0-6</span><br><span class="line">2.crontab -e 编辑计划任务</span><br><span class="line">3.crontab -r 删除所有</span><br><span class="line">4.crontab -l 查看计划任务</span><br><span class="line">5.修改时间 date -s 20170823</span><br><span class="line">		  date -s 162317</span><br></pre></td></tr></table></figure></p>
<p>##第五天 网络应用</p>
<p>###网络的配置<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">1.设置Ip</span><br><span class="line">  ifconfig eth0 IP  临时设置</span><br><span class="line">  setup 永久设置</span><br><span class="line">  service network restart 重启网卡</span><br></pre></td></tr></table></figure></p>
<p>###网卡的配置文件<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim /etc/sysconfig/network-scripts/ifcfg-eth0</span><br></pre></td></tr></table></figure></p>
<p>重启服务的命令 service 服务名 restart</p>
<p>###主机名修改<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">1.临时设置</span><br><span class="line">  hostname 主机名</span><br><span class="line">2.永久设置</span><br><span class="line">  vim /etc/sysconfig/network</span><br><span class="line">  HOSTNAME=主机名</span><br></pre></td></tr></table></figure></p>
<p>###DNS设置<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">1.vim /etc/resolv.conf</span><br><span class="line">  nameserver 114.114.114.114</span><br></pre></td></tr></table></figure></p>
<p>###网络命令<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">1.ifup enth0 开启网卡   ifdown eth0 关闭网卡</span><br><span class="line">2.查看网络状态</span><br><span class="line">  netstat -an 查看所有网络连接</span><br><span class="line">  netstat -rn 查看默认网关</span><br><span class="line">  netstat -tlun 查看lcp和udp网络监听端口</span><br><span class="line">3.端口1-65535</span><br><span class="line">  vim /etc/services</span><br><span class="line">  httpd 80</span><br><span class="line">  sshd  22</span><br><span class="line">4.网关</span><br><span class="line">  route del default gw 192.168.103.1 删除默认网关</span><br><span class="line">  route add default gw 192.168.103.1 添加默认网关</span><br><span class="line">  ping -c 5 -s 1000 192.168.103.185 -s 数据包大小</span><br><span class="line">5.协议</span><br><span class="line">  TCP 协议确认身份 通信更加安全</span><br><span class="line">  UDP 网络传递</span><br><span class="line">  ICMP</span><br></pre></td></tr></table></figure></p>
<p>###网络服务</p>
<p>####FTP服务 通过网络访问<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">1.ftp vsftp ISO （官网提供）</span><br><span class="line">2.安装 </span><br><span class="line">  1) 挂载</span><br><span class="line">  2）yum 安装</span><br><span class="line">  3）配置文件</span><br><span class="line">   /etc/vsftpd/vsftpd.conf /etc/vsftpd/ftpusers</span><br><span class="line">   vim /etc/vsftpd/vsftpd.conf</span><br><span class="line">   85 ftpd_banner=Welcome to py03 blah FTP service.</span><br><span class="line">3.测试启动服务</span><br><span class="line">  关闭防火墙</span><br><span class="line">  关闭SELINUX</span><br><span class="line">  vim /etc/selinux/config</span><br><span class="line">  7 SELINUX=disabled</span><br><span class="line">  reboot</span><br><span class="line">4.netstat -tlun 查看21端口</span><br><span class="line">5.开启服务 service vsftpd start</span><br><span class="line">6.windows ftp://192.168.103.254 匿名用户登录 禁止上传 /var/ftp/pub</span><br><span class="line">  ftp://zzb@192.168.103.254 系统用户登录 上传 下载</span><br><span class="line">  在第三方工具FileZilla 测试</span><br></pre></td></tr></table></figure></p>
<p>####Samba服务 只能通过文件访问<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line">1.文件共享服务 Linux Server--&gt; Windows Client</span><br><span class="line">  端口smba给Client提供资源访问 TCP 139 445</span><br><span class="line">  nmbd提供netbios主机名解析 UDP  137 138 </span><br><span class="line">2.搭建Samba服务</span><br><span class="line">1）安装软件  yum -y install samba</span><br><span class="line">2）配置文件  /etc/samba/smb.conf</span><br><span class="line">  安全级别：share （不需要密码）  </span><br><span class="line">           user Samba用户（系统用户，添加成为samba用户，设置密码）</span><br><span class="line">		   server级别</span><br><span class="line">3.实验一：共享目录/movie  安全级别为share</span><br><span class="line">  1）修改目录建立权限</span><br><span class="line">     mkdir /movie</span><br><span class="line"> 	 chmod 777</span><br><span class="line">  2）修改配置文件</span><br><span class="line">	 vim /etc/samba/smb.conf</span><br><span class="line">     101 security=share</span><br><span class="line">	 263 [movie]</span><br><span class="line">				comment=dianying</span><br><span class="line">				path=/movie</span><br><span class="line">				browseable=yes</span><br><span class="line">				guest ok=yes</span><br><span class="line">				writable=yes</span><br><span class="line">  3）启动服务测试</span><br><span class="line">	关闭防火墙 setup</span><br><span class="line">	关闭selinux </span><br><span class="line">	netstat -tlun</span><br><span class="line">	service smb start</span><br><span class="line">	service nmb start</span><br><span class="line">	netstat -tlun</span><br><span class="line">	测试：windows 计算器输入 \\192.168.102.132</span><br><span class="line">    映射网络驱动</span><br><span class="line"> 实验二：共享目录/pub 所有用户都能访问上传 /soft只有aa用户可以访问 其他用户不可以安全级别为user</span><br><span class="line"> 1.建立目录 修改权限</span><br><span class="line">   mkdir /pub</span><br><span class="line">   mkdir /soft</span><br><span class="line">   chmod 777 /pub</span><br><span class="line">   chmod 700 /soft</span><br><span class="line">   useradd aa</span><br><span class="line">   passwd aa</span><br><span class="line">   chown aa /soft</span><br><span class="line"> 2.需改配置文件的权限</span><br><span class="line">   vim /etc/samba/smb.conf</span><br><span class="line">　　101 security = user</span><br><span class="line">　　263 [pub]</span><br><span class="line">		264 comment = public</span><br><span class="line">		265 path = /pub</span><br><span class="line">		266 browseable = yes</span><br><span class="line">		267 writable = yes</span><br><span class="line">	269 [soft]</span><br><span class="line">		270 comment = software</span><br><span class="line">		271 path = /soft</span><br><span class="line">		272 browseable = yes</span><br><span class="line">		273 writable = yes</span><br><span class="line"> 3.添加samba用户</span><br><span class="line">　 smbpasswd -a aa</span><br><span class="line">   smbpasswd -a bb</span><br><span class="line">   pdbedit -L  查看samba用户 </span><br><span class="line"> 4.重启服务，测试</span><br></pre></td></tr></table></figure></p>
<p> ####SSH服务  非对称密钥加密<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">1.启动服务service sshd start | restart | status</span><br><span class="line">2.配置文件 vim /etc/ssh/sshd_config</span><br><span class="line">3.远程连接主机 ssh root@IP</span><br><span class="line">4.linux上的文件上传下载</span><br><span class="line">  上传： scp a.py root@192.168.103.132: /root</span><br><span class="line">        scp -r /etc root@192.168.103.132: /root  目录</span><br><span class="line">  下载： scp root@192.168.103.132: /root/cron.log /root</span><br><span class="line">        scp -r root@IP: /etc/root  下载目录</span><br><span class="line">5.密钥登录</span><br><span class="line">  ssh-keygen -t rsa -P &apos;&apos;   -P表示密码</span><br><span class="line">  cd .ssh </span><br><span class="line">  cp id_rsa.pub authorized_keys</span><br><span class="line">  chmod 600 authorized_keys</span><br><span class="line">  客户端 下载密钥 使用密钥登录测试</span><br><span class="line">6.设置 /etc/ssh/sshd_config 禁止使用密码登录</span><br><span class="line">  66  PasswordAuthentication no</span><br><span class="line">  重启sshd服务进行测试</span><br></pre></td></tr></table></figure></p>
<p>##第六天 服务器搭建</p>
<p>##第七天 Apache服务器配置</p>
<p>###简介<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">1.HTTP协议  超文本传输协议</span><br><span class="line">2.统一资源定位符 URL</span><br></pre></td></tr></table></figure></p>
<p>###安装<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">1.原码包安装安全，稳定，屏蔽错误，开发环境是小范围的</span><br><span class="line">2.二进制包 yum安装 httpd mysql mysql-server php php-devel php-mysql</span><br></pre></td></tr></table></figure></p>
<p>###相关文件<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">1.配置文件和目录 </span><br><span class="line">  /usr/local/apache2/etc/http.conf</span><br><span class="line">  /usr/local/apache2/etc/extra/httpd-*.conf</span><br><span class="line">2.默认网站的根目录</span><br><span class="line">  /usr/local/apache2/htdocs</span><br><span class="line">3.日志保存文件</span><br><span class="line">  /usr/local/apache2/logs</span><br></pre></td></tr></table></figure></p>
<p>###日志的处理<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">1.动态查看文件内容</span><br><span class="line">  tail -f access_log</span><br><span class="line">2.日志处理（切割轮替）</span><br><span class="line">  vim /etc/logrotate.conf</span><br><span class="line">  /usr/local/apache2/logs/access_log &#123;</span><br><span class="line">	daily </span><br><span class="line">	rotate 30 </span><br><span class="line">&#125;</span><br><span class="line"> /usr/local/apache2/logs/error_log &#123; </span><br><span class="line">	daily</span><br><span class="line">	rotate 30 </span><br><span class="line">&#125;</span><br><span class="line">3.手动执行</span><br><span class="line">  logrotate -f /etc/logrotate.conf</span><br><span class="line">  cd /usr/local/apache2/logs</span><br><span class="line">  ls</span><br></pre></td></tr></table></figure></p>
<p>###配置文件<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">1.命令别名  alias</span><br><span class="line">  vim /root/.bashrc</span><br><span class="line">  alias sto=&apos;/usr/local/apache2/bin/apachectl stop&apos; alias sta=&apos;/usr/local/apache2/bin/apachectl start&apos;</span><br><span class="line">2.手动执行</span><br><span class="line">  source /root/.bashrc</span><br><span class="line">sto  sta</span><br></pre></td></tr></table></figure></p>
<p>###实验一：目录别名 （扩展网站目录）<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">1.建立目录别名</span><br><span class="line">  mkdir /usrlocal/apache2/www</span><br><span class="line">2.修改主配置文件</span><br><span class="line">  vim /usr/local/apache2/etc/httpd.conf</span><br><span class="line">  453 去掉注释</span><br><span class="line">  453 Include etc//extra/httpd-autoindex.conf</span><br><span class="line">3.修改子配置文件</span><br><span class="line">  vim /usr/local/apache2/ettc/extra/httpd-autoindex.conf</span><br><span class="line">  29 Alias /www/ &quot;/usr/local/apache2/www/&quot; </span><br><span class="line">  &lt;Directory &quot;/usr/local/apache2/www/&quot;&gt;</span><br><span class="line">	 32 Options Indexes </span><br><span class="line">	 33 AllowOverride None </span><br><span class="line">	 34 Require all granted </span><br><span class="line">&#125;</span><br><span class="line">4.重启服务测试</span><br><span class="line">sto</span><br><span class="line">sta</span><br><span class="line">192.168.103.110/www/</span><br></pre></td></tr></table></figure></p>
<p>###实验二：虚拟主机<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line">1.域名解析文件解析 在windows上操作</span><br><span class="line"> C:\Windows\System32\drivers\etc\hosts</span><br><span class="line"> 192.168.103.110 www.sina.com</span><br><span class="line"> 192.168.103.110 www.sohu.com</span><br><span class="line">2.网站目录规划</span><br><span class="line"> mkdir -p /share/sina</span><br><span class="line"> vim /share/sina/index.html</span><br><span class="line"> hello sina</span><br><span class="line"> mkdir /share/sohu</span><br><span class="line"> vim /share/sohu/index.html</span><br><span class="line"> hi sohu</span><br><span class="line">3.修改主配置文件</span><br><span class="line"> vim /usr/local/apache2/etc/httpd.conf (取消注释)</span><br><span class="line"> 。465 Include etc//extra/httpd-vhosts.conf</span><br><span class="line"></span><br><span class="line">4.修改自配置文件</span><br><span class="line"> vim /usr/local/apache2/etc/extra/httpd-vhosts.conf</span><br><span class="line"> 23 &lt;Directory &quot;/share/sina/&quot;&gt; </span><br><span class="line">		24 Options Indexes </span><br><span class="line">		25 AllowOverride None </span><br><span class="line">		26 Require all granted</span><br><span class="line">&#125; </span><br><span class="line">   29 &lt;Directory &quot;/share/sohu/&quot;&gt; </span><br><span class="line">		30 Options Indexes </span><br><span class="line">		31 AllowOverride None </span><br><span class="line">		32 Require all granted </span><br><span class="line">&#125;</span><br><span class="line">   35 &lt;VirtualHost 192.168.103.254&gt; </span><br><span class="line">		36 ServerAdmin webmaster@sina.com </span><br><span class="line">		37 DocumentRoot &quot;/share/sina/&quot; </span><br><span class="line">		38 ServerName www.sina.com </span><br><span class="line">		39 ErrorLog &quot;logs/sina.com-errorlog&quot; </span><br><span class="line">		40 CustomLog &quot;logs/sina.com-accesslog&quot; common</span><br><span class="line">&#125; </span><br><span class="line">   41&lt;VirtualHost 192.168.103.254&gt; </span><br><span class="line">		44 ServerAdmin webmaster@sohu.com </span><br><span class="line">		45 DocumentRoot &quot;/share/sohu/&quot; </span><br><span class="line">		46 ServerName www.sohu.com </span><br><span class="line">		47 ErrorLog &quot;logs/sohu.com-errorlog&quot; </span><br><span class="line">		48 CustomLog &quot;logs/sohu.com-accesslog&quot; common</span><br><span class="line">&#125;</span><br><span class="line">5.重启服务 测试</span><br><span class="line">sto</span><br><span class="line">sta</span><br><span class="line">测试：www.sina.com  www.sohu.com</span><br></pre></td></tr></table></figure></p>
<p>###实验3： rewrite重写重定向<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">www.sina.com --&gt; www.sohu.com</span><br><span class="line">1.修改主配置文件</span><br><span class="line">  vim /usr/local/apache2/etc/httpd.conf</span><br><span class="line">  147 LoadModule rewritemodule modules/modrewrite.so</span><br><span class="line">2.修改子配置文件</span><br><span class="line">  vim /usr/local/apache2/etc/extra/httpd-vhosts.conf</span><br><span class="line">  &lt;Directory &quot;share/sina/&quot;&gt;</span><br><span class="line">	24 Options Indexes FollowSymLinks</span><br><span class="line">	25 AllowOverride All </span><br><span class="line">	26 Require all granted </span><br><span class="line">3.建立.htaccess权限文件权限</span><br><span class="line">  vim /share/sina/.htaccess</span><br><span class="line">  	1 RewriteEngine on </span><br><span class="line">  	2 RewriteCond %&#123;HTTP_HOST&#125; www.sina.com </span><br><span class="line">   3 RewriteRule .* http://www.sohu.com</span><br><span class="line">4.重启服务进行测试</span><br></pre></td></tr></table></figure></p>
<p>###网页文件跳转<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">1.修改权限文件</span><br><span class="line"> vim /share/sina/.htaccess</span><br><span class="line"> 1 RewriteEngine on </span><br><span class="line"> 2 RewriteRule index(\d+).html index.php?id=$1</span><br><span class="line">2.建立index.php</span><br><span class="line">vim /share/sina/index.php</span><br><span class="line">1 &lt;?php 2 echo &quot;hello world!&quot;; 3 ?&gt;</span><br><span class="line">3) 重启服务 测试</span><br></pre></td></tr></table></figure></p>
<p>##第八天  lnmp服务器的快速搭建</p>
<p>###准备工作<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">1.配置yum源</span><br><span class="line">  cd /etc/yum.repos.d/</span><br><span class="line">  mv CentOS-Base.repo CentOS-Base.repo.bak</span><br><span class="line">  修改yum源</span><br><span class="line">2.挂载</span><br><span class="line">  mount /dev/sr0 /media</span><br><span class="line">3.永久IP设置</span><br><span class="line">  setup</span><br></pre></td></tr></table></figure></p>
<p>###安装步骤<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">1.解压缩</span><br><span class="line">  tar -zxvf lnmp1.2-full.tat.gz</span><br><span class="line">2.进入解压缩目录</span><br><span class="line">  cd lnmp1.2-full</span><br><span class="line">3.安装</span><br><span class="line">  ./install.sh lnmp  3 5 1</span><br></pre></td></tr></table></figure></p>
<p>###LNMP相关软件安装目录<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Nginx 目录： /usr/local/nginx</span><br><span class="line">MySQl 目录： /usr/local/mysql</span><br><span class="line">MySQL数据库所在目录： /usr/local/mysql/var/</span><br><span class="line">PHP 目录： /usr/local/php/</span><br><span class="line">PHPMyAdmin 目录： /home/wwwroot/default/phpmyadmin</span><br><span class="line">默认网站目录： /home/wwwroot/default</span><br><span class="line">Nginx 日志目录： /home/wwwlogs</span><br></pre></td></tr></table></figure></p>
<p>###LNMP相关配置文件<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Nginx主配置文件：/usr/local/nginx/conf/nginx.conf</span><br><span class="line">MySQL配置文件：  /etc/my.conf</span><br><span class="line">PHP配置文件:    /usr/local/php/etc/php.ini</span><br></pre></td></tr></table></figure></p>
<p>####LAMP状态管理命令<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">LNMP状态管理：lnmp &#123;start|stop|restart|kill|status|reload&#125;</span><br><span class="line">LNMP各个程序的状态管理：lnmp &#123;nginx|mysql|mariadb|php-fpm|pureftpd&#125;&#123;start|stop|restart|kill|status&#125;</span><br><span class="line">&lt;/pre&gt;</span><br><span class="line">###配置文件</span><br><span class="line">&lt;pre&gt;</span><br><span class="line">vim /usr/local/nginx/conf/nginx.conf</span><br><span class="line">  user www www;</span><br><span class="line">启动进程：</span><br><span class="line">worker_processes auto;</span><br><span class="line">错误日志：</span><br><span class="line">error_log /home/wwwlogs/nginx_error.log crit;</span><br><span class="line">主进程保存文件：</span><br><span class="line">pid /usr/local/nginx/logs/nginx.pid</span><br><span class="line">文件描述符数量：</span><br><span class="line">worker_rlimit_nofile 51200</span><br></pre></td></tr></table></figure></p>
<p>###nginx配置文件语句错误<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/usr/local/nginx/sbin/nginx -t</span><br></pre></td></tr></table></figure></p>
<p>###平滑重启nginx进程<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pkill -HUP nginx</span><br></pre></td></tr></table></figure></p>
<p>##配置实现</p>
<p>###实验一：nginx 虚拟主机<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">1.域名解析文件解析 在windows上操作</span><br><span class="line">192.168.103.110 www.sina.com</span><br><span class="line">192.168.103.110 www.sohu.com</span><br><span class="line">2.网站目录规划</span><br><span class="line">mkdir /home/wwroot/sina</span><br><span class="line">vim /home/wwwroot/sina/index.html</span><br><span class="line">hello sina</span><br><span class="line">mkdir /home/wwwroor/sohu</span><br><span class="line">vim /home/wwwroot/sohu/index.html</span><br><span class="line">hi sohu</span><br><span class="line">3.修改配置文件</span><br><span class="line">vim /usr/local/nginx/conf/nginx.conf</span><br><span class="line">66 行 listen 80;</span><br><span class="line">4.建立虚拟主机文件</span><br><span class="line">vim /usr/local/nginx/conf/vhost/v.conf</span><br><span class="line">server&#123;</span><br><span class="line">	listen 80;</span><br><span class="line">	server_name = www.sina.com</span><br><span class="line">	index index.html index.html index.php;</span><br><span class="line">	root /home/wwwroot/sina;</span><br><span class="line">	inclue enable-php.conf;</span><br><span class="line">&#125;</span><br><span class="line">server&#123;</span><br><span class="line">	listen 80;</span><br><span class="line">	server_name = www.sohu.com</span><br><span class="line">	index index.html index.html index.php;</span><br><span class="line">	root /home/wwwroot/sohu;</span><br><span class="line">	inclue enable-php.conf;</span><br><span class="line">&#125;</span><br><span class="line">5.重启服务进行测试</span><br><span class="line">pkill -HUP nginx</span><br><span class="line">在浏览器上测试： www.sina.com  www.sohu.com</span><br></pre></td></tr></table></figure></p>
<p>###实验二：列表页显示<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">1.在配置文件打开autoindex</span><br><span class="line">vim /uer/local/nginx/conf/nginx.conf</span><br><span class="line">72 autoindex on/off;</span><br><span class="line">2.重启服务</span><br><span class="line">pkill -HUP nginx</span><br><span class="line">3.修改index.html文件的名字</span><br><span class="line">cd /home/wwwroot/default</span><br><span class="line">mv index.html a.html</span><br><span class="line">4.测试</span><br><span class="line">在浏览器输入192.168.103.110</span><br></pre></td></tr></table></figure></p>
<p>###实验三：状态监控<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">1.配置文件</span><br><span class="line">vim /usr/local/nginx/conf/vhost/v.conf</span><br><span class="line">自第八行加入</span><br><span class="line">lication /nginxstatus&#123;</span><br><span class="line">	stubstatus on;</span><br><span class="line">	access_log off;</span><br><span class="line">&#125;</span><br><span class="line">2.重启 测试</span><br><span class="line">pkill -HUP nginx </span><br><span class="line">www.sina.com/nginx_status</span><br></pre></td></tr></table></figure></p>
<p>###实验四：rewrite重写/重定向<br>网站跳转<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">www.sina.com--&gt;www.sohu.com</span><br><span class="line">1.修改配置文件</span><br><span class="line">vim /usr/local/nginx/conf/vhost/v.conf</span><br><span class="line">server &#123; </span><br><span class="line">	listen 80;</span><br><span class="line">	servername = www.sina.com;</span><br><span class="line">	index index.html index.htm index.php;</span><br><span class="line">	root /home/wwwroot/sina;</span><br><span class="line">	autoindex on;</span><br><span class="line">	include enable-php.conf;</span><br><span class="line">	if ($httphost = www.sina.com)</span><br><span class="line">	&#123;</span><br><span class="line">	rewrite (.*) http://www.sohu.com permanent</span><br><span class="line">&#125;</span><br><span class="line">2.重启服务 测试</span><br><span class="line">pkill -HUP nginx</span><br><span class="line">www.sina.com--&gt;www.sohu.com</span><br></pre></td></tr></table></figure></p>
<p>网页文件跳转<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">1.修改配置文件</span><br><span class="line">vim /usr/local/nginx/conf/vhost/v.conf</span><br><span class="line">server &#123;</span><br><span class="line">	listen 80;</span><br><span class="line">	server_name = www.sina.com;</span><br><span class="line">    index index.html index.htm index.php;</span><br><span class="line">    root /home/wwwroot/sina;</span><br><span class="line">	autoindex on;</span><br><span class="line">	include enable-php.conf;</span><br><span class="line">	rewrite index(\d+).html /index.php?id=$1 last;</span><br><span class="line">&#125;</span><br><span class="line">2.建立index.php</span><br><span class="line">vim /home/wwwroot/sina/index.php</span><br><span class="line">&lt;?php echo &quot;hello&quot; ?&gt;</span><br><span class="line">3.重启服务进行测试</span><br><span class="line">pkill -HUP nginx</span><br><span class="line">www.sina.com/index3.html</span><br></pre></td></tr></table></figure></p>
<p>###实验五：代理负载均衡 反向代理<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">三个虚拟机其中一个做分发，另外两个做解析使用</span><br><span class="line">1.修改配置文件 vim /usr/local/nginx/conf/nginx.conf在原文件修改</span><br><span class="line"> 65 upstream myweb1 &#123;</span><br><span class="line"> 66         server 192.168.103.140:80;</span><br><span class="line"> 67         server 192.168.103.199:80;</span><br><span class="line"> 68 &#125;       </span><br><span class="line"> 69 server &#123;</span><br><span class="line"> 70         listen       80;</span><br><span class="line"> 71         server_name  www.sohu.com;</span><br><span class="line"> 72         location / &#123;</span><br><span class="line"> 73                 proxy_pass http://myweb1;</span><br><span class="line"> 74                 proxy_next_upstream http_500 http_502 http_503 error timeout invalid_header;</span><br><span class="line"> 75                 proxy_set_header Host $host;</span><br><span class="line"> 76                 proxy_set_header X-Forwarded-For $remote_addr;</span><br><span class="line"> 77 &#125;               </span><br><span class="line"> 78 &#125; </span><br><span class="line">为99行添上注释 即关闭虚拟主机</span><br><span class="line">2.设置第一个解析用的ip</span><br><span class="line">cd /home/wwwroot/default</span><br><span class="line">vim index.html</span><br><span class="line">3.设置第二个解析用的ip 同上</span><br><span class="line">4.重启分发主机进行测试</span><br><span class="line">pkill -HUP nginx</span><br><span class="line">www.sohu.com</span><br></pre></td></tr></table></figure></p>
<p>##第九天</p>
<p>###shell的作用<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">1.命令解释器 vim /etc/shells</span><br><span class="line">2.Tab 自动补全  </span><br><span class="line">  history -c 清除历史  </span><br><span class="line">  history -w 写入文件  ~/.bash_history</span><br><span class="line">  !  调用历史命令</span><br><span class="line">3.设置历史命令行保存的条数</span><br><span class="line">  vim /etc/profile     48 HISTSIZE=1000</span><br><span class="line">4.定义别名</span><br><span class="line">  1)vim ~/.bashrc  alias abc=&quot;history&quot;   source ~/.bashrc</span><br><span class="line">  2)alias abc=&quot;history&quot;   unalias abc</span><br><span class="line">5.重定向：</span><br><span class="line">  1）输入重定向</span><br><span class="line">  wc -l &lt; install.log</span><br><span class="line">  2）</span><br><span class="line">  ls &gt; a.log 2&gt;&gt;   </span><br><span class="line">6.管道符  统计已连接的数量</span><br><span class="line">  netstat -an | grep ESTABLISHED | wc -l</span><br></pre></td></tr></table></figure></p>
<p>###Shell变量的应用<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Var=lamp</span><br><span class="line">echo $Var3.0  输出：.3</span><br><span class="line">echo $&#123;Var&#125;3.0 输出：lamp3.0</span><br></pre></td></tr></table></figure></p>
<p>###从键盘输入内容为变量赋值<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">read -p &quot;信息内容&quot; -t 30 变量名</span><br><span class="line">双引号 &quot;&quot;: 允许通过$符号引用其他变量值</span><br><span class="line">单引号 &apos;&apos;: 禁止引用其他变量值，$视为普通参数</span><br><span class="line">反撇号 ``: 将命令执行的结果输出给变量</span><br></pre></td></tr></table></figure></p>
<p>###设置变量的作用范围<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">1.设置变量名</span><br><span class="line">  export 变量名</span><br><span class="line">  export 变量名=变量值</span><br><span class="line">2.查看环境变量</span><br><span class="line">  env 或 export</span><br><span class="line">3.清除用户定义的变量</span><br><span class="line">  unset 变量</span><br><span class="line">  export A=/usr/local/nginx/sbin:$PATH</span><br></pre></td></tr></table></figure></p>
<p>###系统环境变量文件<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">1.全局配置文件： 1/etc/profile     4/etc/profile</span><br><span class="line">2.用户配置文件： 2~/.bash_profile  3~/.bashrc</span><br><span class="line">3.用set查看环境变量</span><br></pre></td></tr></table></figure></p>
<p>常见的环境变量<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$USER  $LOGNAME  $UID   $SHELL</span><br><span class="line">$HOME  $PWD   $PATH  $PS1  $PS2</span><br></pre></td></tr></table></figure></p>
<p>环境变量PS1<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">echo $PS1:</span><br><span class="line">\d 日期        \t时间（24）    \T时间（12）</span><br><span class="line">\H 完整主机名   \h简写主机名     \u用户名</span><br><span class="line">\v bash版本    \w完整目录       \W最后一个目录</span><br><span class="line">\#执行了第几个命令              \$提示符</span><br><span class="line">PS1=&apos;[\u@\h \w \t #\#]\$&apos;</span><br></pre></td></tr></table></figure></p>
<p>位置变量<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">表示为$n,n为1~9之间的数字</span><br><span class="line">$0 为第0个参数，脚本本身</span><br></pre></td></tr></table></figure></p>
<p>预定义变量<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">$#:命令行中位置参数的个数</span><br><span class="line">$*:所有位置参数的内容</span><br><span class="line">$?:上一条命令执行后返回的状态，当返回值为0时正常，非零时出错</span><br><span class="line">$$:当前所在进程的进程号</span><br><span class="line">$!:后台运行的最后一个进程</span><br><span class="line">$0:当前执行的进程</span><br></pre></td></tr></table></figure></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">xeyes $ </span><br><span class="line">jobs  查看系统运行任务（后台进程）</span><br><span class="line">fg+1 调用到前台</span><br></pre></td></tr></table></figure>
<p>多命令与通配符<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">多命令运行：</span><br><span class="line">；  命令顺序执行</span><br><span class="line">&amp;&amp;  前后命令存在逻辑关系，前面命令执行成功后，后面命令才能执行</span><br><span class="line">||  前后命令存在逻辑关系，前面命令执行失败时候，后面命令执行</span><br><span class="line"></span><br><span class="line">通配符与特殊符号：</span><br><span class="line">通配符：</span><br><span class="line">     *   任意多个</span><br><span class="line">     ？  任意一个   rm -rf ?.??</span><br><span class="line">	 []  括号内任意一个   </span><br><span class="line">特殊符号：</span><br><span class="line">	 \   转义符</span><br><span class="line">	 &amp;   后台非</span><br><span class="line">	 ！</span><br></pre></td></tr></table></figure></p>
<p>运行shell脚本的方法<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">1.直接执行具有“X”权限的脚本文件</span><br><span class="line">  ./文件名</span><br><span class="line">2.使用指定的解释器程序执行脚本内容</span><br><span class="line">   bash 文件名</span><br><span class="line">3.通过source命令 读取脚本内容进行执行</span><br><span class="line">   souce 文件名 或 .文件名</span><br></pre></td></tr></table></figure></p>
<p>##第十天</p>
<p>课堂积累<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">1.正则表达式可以进行筛选</span><br><span class="line">2./var/log 日志文件 /lastlog 最后登录</span><br><span class="line">3.a\&#123;n\&#125; 匹配n次以上a</span><br><span class="line">4.^$  匹配空行，格式化</span><br><span class="line">5.查找 find grep whereis</span><br><span class="line">6.grep -n &quot;^$&quot; a.txt 匹配空白行显示行号 -v 取反 -i 忽略大小写     </span><br><span class="line">7.last 显示登陆用户终端的信息   </span><br><span class="line">8.\t 制表符 \n换行符  last | awk &apos;&#123;printf $1 &quot;\t&quot; $2 &quot;\n&quot;&#125;&apos;</span><br><span class="line">   printf 函数输出，格式化输出 </span><br><span class="line">9.$0 原文件打印  $1 表示第一列     </span><br><span class="line">10.awk 中 FS 代表分隔符  位置变量</span><br><span class="line">11.cat 用数字表示列数 cut -d &quot;:&quot; -f 1 install.log</span><br><span class="line">11 ^ 括号外面取反 ^括号里面是指所取范围的前面</span><br><span class="line">12.df -hT 查看系统分区  Use% 服务器硬盘使用占比  监控实例                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                </span><br><span class="line">   usage=`df -hT | grep &quot;/boot&quot; | awk &apos;&#123;ptint $6&#125;&apos; | cut -d &quot;%&quot; -f 1`</span><br><span class="line">   echo $usage</span><br><span class="line">   [ usage -gt 85 ]&amp;&amp; echo &quot;YES&quot;</span><br><span class="line">13.-o 写在程序里面 在命令行写 ||  </span><br><span class="line">14.字符串的比较： = 赋值  == 是否相等</span><br><span class="line">15.$LANG 代表字符集</span><br><span class="line">16.内存大于百分八十的时候报警步骤：</span><br><span class="line">  1)vim waring.sh</span><br><span class="line">  2). warning.sh (给权限) #如果拿别人的代码，注意标点符号</span><br><span class="line">  3）. mydb.sh start 数据库开启</span><br><span class="line">17.端口号：3306 mysqp  22 ssh 11211 lamp(memecache)  80 apach </span><br><span class="line">18.pgrep:查看服务有没有进程号 pid </span><br><span class="line">19.DIR 目录  LMT数量  file文件 stdin标准键盘输入 /dev/null 设备文件/黑洞文件 expr计算（1+1） letter字母 Spacebar空格 </span><br><span class="line">20.查看内存：top</span><br><span class="line">21.github网站  sudo 管理员身份运行程序 Altinstall 安装兼容版本</span><br></pre></td></tr></table></figure></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2017/11/26/linux总结/" data-id="cjaghm3mj0005h4v1fn2ql6j5" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-MySql" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/11/26/MySql/" class="article-date">
  <time datetime="2017-11-26T08:11:58.658Z" itemprop="datePublished">2017-11-26</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>##第一天</p>
<p>###概念<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">MySQL:数据库</span><br><span class="line">mysql:客户端命令,用来连接服务或发送命令</span><br><span class="line">SQL语言分为四个部分:DDL(定义),DML(操作),DQL(查询),DCL(控制)</span><br></pre></td></tr></table></figure></p>
<p>###数据库的操作<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">.直接进入数据库:mysql -u root -p 库名 </span><br><span class="line">.连接数据库: mysql -h主机名 -u用户名 -p密码 库名</span><br><span class="line">.数据库的授权操作:grand select,insert,updata,delete on lamp61.* to zhangsan@&apos;%&apos; identified by &apos;123&apos;;</span><br><span class="line">.show databases;             查看数据库</span><br><span class="line">.create database 数据库名称;   创建数据库</span><br><span class="line">.drop database 数据库名称;     删除数据库</span><br><span class="line">.create database if not exists 名称; 在次创建已经存在的数据库时,抛出错误.</span><br><span class="line">.show create database 名称;   查看建库语句</span><br><span class="line">.select database();   查看当前在哪个库</span><br><span class="line">.use 库名;            选择进入哪个库</span><br><span class="line">.desc 表名;   查看表结构</span><br></pre></td></tr></table></figure></p>
<p>###快捷键<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">.\?    查看命令帮助</span><br><span class="line">.\c    结束当前命令</span><br><span class="line">.\h    查看快捷键</span><br><span class="line">.\s    查看服务端的信息</span><br><span class="line">.\G    格式化输出</span><br></pre></td></tr></table></figure></p>
<p>###数据表操作<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">show tables;        查看当前存在什么表</span><br><span class="line">create table 表名;  建立表</span><br><span class="line">desc 表名;          进入表查看表结构</span><br><span class="line">show create table 表名\G; 查看建表语句</span><br><span class="line">drop table 表名;     删除表</span><br><span class="line">select * form 表名;  查看表字段</span><br><span class="line">update 表名 set age=30 where id=4; 修改数据</span><br><span class="line">insert into 表名(id,name,age) values(1,&apos;lisi&apos;,20);  添加数剧1</span><br><span class="line">insert into aa values(2,&apos;sd&apos;,23); 添加数据2</span><br><span class="line">insert into aa values(3,&apos;sa&apos;,132),(4,&apos;ad&apos;,13);  添加数据3</span><br><span class="line">select * from aa;   查看aa表的所有数据</span><br><span class="line">select name,age from aa; 查看name和age字段的所有数据</span><br><span class="line">updata aa set age=20 where id=2; 修改表</span><br><span class="line">delete from aa where id=1;   删除表</span><br></pre></td></tr></table></figure></p>
<p>###数据库类型</p>
<p>####数值类型<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">*tinyint (1字节)  0~255 -128~127</span><br><span class="line">smallint(2字节)</span><br><span class="line">mediumint(3字节)</span><br><span class="line">*int(4字节)</span><br><span class="line">bigint(8字节)</span><br><span class="line">*float(4字节)  float(6,2)</span><br><span class="line">decimal(自定义) 子串型数值</span><br><span class="line">.整形int 四个字节</span><br></pre></td></tr></table></figure></p>
<p>####子串类型<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">普通字符</span><br><span class="line">*单行输入都为:varchar(8)  可变字段</span><br><span class="line">*密码输入为:char(8)   定长字段</span><br><span class="line">文本类型</span><br><span class="line">*text 常用于&lt;textarea&gt;&lt;/textarea&gt;</span><br><span class="line">*enum 枚举</span><br></pre></td></tr></table></figure></p>
<p>###表的字段约束<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">unsigned 无符号(整数)</span><br><span class="line">auto_increment 自增</span><br><span class="line">primary key  主键</span><br><span class="line">zerofill     前导补零</span><br><span class="line">default    默认值</span><br><span class="line">not null   非空</span><br><span class="line">unique     唯一性(可以为空但不可以重复)</span><br><span class="line">int(4) 只有设置前导补零时候,4才有作用.</span><br></pre></td></tr></table></figure></p>
<p>###建表的语句格式<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">use mydb; 进入mydb 后创建表</span><br><span class="line">create table 表名(</span><br><span class="line">	   字段名 类型 [字段约束],</span><br><span class="line">	   字段名 类型 [字段约束],</span><br><span class="line">	   字段名 类型 [字段约束],</span><br><span class="line">	   ...</span><br><span class="line">	  );</span><br><span class="line">create table stu(</span><br><span class="line">	id int unsigned not null auto_increment primary key,</span><br><span class="line">	name varchar(8) not null unique,</span><br><span class="line">	age tinyint unsigned,</span><br><span class="line">	sex enum(&apos;m&apos;,&apos;w&apos;) not null default &apos;m&apos;,</span><br><span class="line">	classid char(6)</span><br><span class="line">	);</span><br></pre></td></tr></table></figure></p>
<p>###修改表结构<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">.格式:alter table 表名 action (更改选项)</span><br><span class="line">.添加字段:alter table 表名 add 字段名信息</span><br><span class="line">.删除字段:alert table 表名 drop 被删除的字段名</span><br><span class="line">.修改字段:alter table 表名 change[modify] 被修改后的字段信息 </span><br><span class="line"> change可以修改字段名 modify不可以</span><br><span class="line">.添加和删除索引 :</span><br><span class="line"> alter table user add unique uni_name(name)</span><br><span class="line">.更改表名:alter table 旧表名 rename as 新表名</span><br><span class="line">.更改auto_increment的初始值:</span><br><span class="line"> alter table 表名称 engine=&quot;InnoDB&quot;</span><br></pre></td></tr></table></figure></p>
<p>###数据库恢复<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">.导出:mysqldump -u root -p stu&gt;mydb_stu.sql</span><br><span class="line">.导入:mysql -u root -p mydb &lt; mydb.sql</span><br><span class="line">.少数据 用编辑器打开复制粘贴到原本建立的库</span><br><span class="line"></span><br><span class="line">.修改字段：tt表age字段类型改为tinyint类型，unsigned not null default 20</span><br><span class="line"> mysql&gt; alter table tt modify age tinyint unsigned not null default 20;</span><br><span class="line">.修改name字段名为username</span><br><span class="line">mysql&gt; alter table tt change name username varchar(16);</span><br><span class="line"></span><br><span class="line">Query OK, 0 rows affected (0.11 sec)</span><br><span class="line">Records: 0  Duplicates: 0  Warnings: 0</span><br><span class="line">修改默认值为20:default 20;</span><br></pre></td></tr></table></figure></p>
<p>###增删改查</p>
<p>####添加<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">.格式:insert into 表名 [(字段列表)] values(值列表)[,(值列表),(值列表)]</span><br><span class="line"> 标准添加sql,指定所有字段,给定所有值&apos;</span><br><span class="line"> 指定部分字段,给定部分值添加</span><br><span class="line"> 不指定字段添加值 要注意顺序和个数</span><br><span class="line"> mysql&gt; insert into stu values(null,&apos;wangwu&apos;,25,&apos;w&apos;,&apos;python03&apos;);</span><br></pre></td></tr></table></figure></p>
<p>####删除数据<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">.格式: delete from 表名 [where 条件[分组.排序.limit]]</span><br><span class="line">.删除id为20的信息: delete from stu where id=20;</span><br><span class="line">.删除id在100到200之间的信息:</span><br><span class="line"> delete from stu where id between 100 and 200;</span><br><span class="line"> 或</span><br><span class="line"> delete from stu where id&gt;=100 and id&lt;=200;</span><br></pre></td></tr></table></figure></p>
<p>####修改数据<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">.格式:update 表名 set 字段名1=值1[,字段名2=值2][where 条件]</span><br><span class="line">.将id为9和11的年龄改为23,班级classid改为python03</span><br><span class="line"> update stu set age=23,classid=&apos;python03&apos; where id in(9,11);</span><br></pre></td></tr></table></figure></p>
<p>####查询操作<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line">输出时:</span><br><span class="line">.查询时可以给字段名起别名:</span><br><span class="line"> mysql&gt; select id,name as username,age from stu;</span><br><span class="line">.追加一个字段:</span><br><span class="line"> mysql&gt; select *,age+5 age5 from stu;</span><br><span class="line">.增加新字段:</span><br><span class="line"> mysql&gt; select *,&apos;shanghai&apos; city from stu;</span><br><span class="line">.将两个字段连成一个字段进行输出:concat</span><br><span class="line"> mysql&gt; select concat(classid,&quot;:&quot;,name) from stu;</span><br><span class="line"></span><br><span class="line">where条件查询</span><br><span class="line">.两者之间用and  两者之外用or</span><br><span class="line">.查询为空的: is null</span><br><span class="line"> mysql&gt; select * from stu where classid is null;</span><br><span class="line"> .like 模糊查询  % _</span><br><span class="line">  % 表示任意数量的任意字符;</span><br><span class="line">  _ 表示一个字数的任意字符;</span><br><span class="line"> 查询姓名中含有an子串的所有信息:</span><br><span class="line"> select * from stu where name like &apos;%an%&apos;;</span><br><span class="line"> select * from stu where name regexp &apos;an&apos;;</span><br><span class="line">.统计函数 聚 合函数</span><br><span class="line"> max() min() sum() avg()    count()</span><br><span class="line"> 最大   最小  总和   平均值   总计</span><br><span class="line"> select max(age),min(age),sum(age),avg(age),count(id) from stu;</span><br><span class="line"></span><br><span class="line">group分组查询:  group by 字段名 分组</span><br><span class="line">.按照性别分组:</span><br><span class="line"> select sex,count(*) from stu group by sex;</span><br><span class="line">.班级分组除空:</span><br><span class="line"> mysql&gt; select classid,count(*) from stu where classid is not null group by classid;</span><br><span class="line">.按照班级分组,并且统计每个班级的男生和女生人数</span><br><span class="line"> select classid,sex,count(*) from stu where classid is not null group by classid,sex;</span><br><span class="line">.在上面的查询中,加入过滤条件 人数大于等于3</span><br><span class="line"> select classid,sex,count(*) num from stu where classid is not null group by classid,sex having num&gt;=3;</span><br><span class="line">.排序:order by字段名 asc(默认升序) desc(降序)</span><br><span class="line"> select * from stu order by classid desc;</span><br><span class="line"> select * from stu order by classid asc,age desc;</span><br><span class="line"></span><br><span class="line">.limit获取部分关键词及分页</span><br><span class="line"> 两个数逗号隔开前面的就是隔开;默认写几就是前几条;</span><br><span class="line"> 分页公式:limit(页号-1)*页大小,页大小 </span><br><span class="line"> select * from stu limit 0,3;</span><br><span class="line">.查找数据时的顺序为:</span><br><span class="line"> where条件  group by分组  order by(desc,esc)排序  limit分页</span><br></pre></td></tr></table></figure></p>
<p>###跨表查询<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">1.嵌套查询 (一个查询的结果是另外查询的条件)</span><br><span class="line">  select * from stu where age=(select max(age)from stu);</span><br><span class="line">2.where关联查询</span><br><span class="line">  select t.id,t.title,t.addtime from topic t,users u where t.uid=u.id;</span><br><span class="line">3.join连接查询:内联inner join,左联 left join,右联right join\</span><br><span class="line"> 以左联为主，user信息为主，右侧topic表信息没有的补null</span><br><span class="line">mysql&gt; select u.id,u.name,t.id,t.title from users u left join topic t on u.id=t.uid;</span><br><span class="line"> 右联查询，以topic为主，左侧users没有对应信息的补null</span><br><span class="line">mysql&gt; select u.id,u.name,t.id,t.title from users u right join topic t on u.id=t.uid;</span><br><span class="line"> 内联（等价于where管理），求的是两侧交集的数据</span><br><span class="line">mysql&gt; select u.id,u.name,t.id,t.title from users u inner join topic t on u.id=t.uid;</span><br><span class="line">from</span><br><span class="line">.主外键的统计查询</span><br><span class="line"> select 要查询的内容 count() from 表名 where 条件 group  order limit</span><br></pre></td></tr></table></figure></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">. 查询年龄不在20~25的学生信息</span><br><span class="line">mysql&gt; select * from stu where age&lt;20 or age&gt;25;</span><br><span class="line">mysql&gt; select * from stu where age not between 20 and 25;</span><br></pre></td></tr></table></figure>
<p>##第三天</p>
<p>###统计<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">.分组可以统计属于一个组的人数</span><br><span class="line">.数值处理比字符串处理要快</span><br></pre></td></tr></table></figure></p>
<p>###MySQL其他操作</p>
<p>####数据表的复制<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">.复制表结构:</span><br><span class="line"> creat table 目标表名 like 原表名;</span><br><span class="line">.复制表数据 </span><br><span class="line"> insert into 目标表名 select * from 原表名;</span><br></pre></td></tr></table></figure></p>
<p>####* 数据表的索引<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">.创建索引:</span><br><span class="line"> create index index_name on 表名</span><br><span class="line">.删除索引:</span><br><span class="line"> drop unique index on 表名</span><br></pre></td></tr></table></figure></p>
<p>####视图<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">.创建视图</span><br><span class="line"> create view vstu as select * from roder</span><br><span class="line">.view视图的帮助信息</span><br><span class="line"> ? view</span><br><span class="line"> alter view</span><br><span class="line"> create view</span><br><span class="line"> drop view</span><br><span class="line">.查看视图</span><br><span class="line"> show tables;</span><br><span class="line">.删除视图v_t1;</span><br><span class="line"> drop view v_t1;</span><br></pre></td></tr></table></figure></p>
<p>####mysql内置函数<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line">字符串处理函数</span><br><span class="line"> concat(s1,s2,...sn)</span><br><span class="line"> insert(str,x,y,instr)将字符串str从第xx位置开始，y字符串的子字符串替换为字符串str</span><br><span class="line"></span><br><span class="line"> lower(str)将所有的字符串变为小写</span><br><span class="line"> upper(str)将所有的字符串变为大写</span><br><span class="line"> left(str,x)返回字符串中最左边的x个字符</span><br><span class="line"> rigth(str,y)返回字符串中最右边的x个字符</span><br><span class="line"> lpad(str,n,pad)用字符串pad对str最左边进行填充，直到长度为n个字符串长度</span><br><span class="line"> rpad(str,n,pad)用字符串pad对str最右边进行填充，直到长度为n个字符串长度</span><br><span class="line"> trim(str)  去掉左右两边的空格</span><br><span class="line"> ltrim(str) 去掉字符串str左侧的空格</span><br><span class="line"> rtrim(str) 去掉字符串str右侧的空格</span><br><span class="line"> repeat(str,x)   返回字符串str重复x次</span><br><span class="line"> replace(str,a,b)将字符串的的a替换成b</span><br><span class="line"> strcmp(s1,s2)   比较字符串s1和s2</span><br><span class="line"> substring(s,x,y)返回字符串指定的长度</span><br><span class="line"> *length(str)  返回值为字符串str 的长度    </span><br><span class="line">数值函数</span><br><span class="line"> abs(x)     返回x的绝对值</span><br><span class="line"> rand()     返回0-1之间的随机数</span><br><span class="line"> round(x,y) 返回参数x四舍五入有y位小数的值</span><br><span class="line"> </span><br><span class="line"> ceil(x)   返回大于x的最小整数值</span><br><span class="line"> floor(x)  返回小于x的最大整数值</span><br><span class="line"> mod(x,y)  返回x/y的取余结果</span><br><span class="line"> truncate(x,y) 返回x截断为y位小数的结果</span><br><span class="line">日期和时间函数</span><br><span class="line"> now()     返回当前的日期和事件</span><br><span class="line"> unix_timestamp(date)  返回date时间的时间戳</span><br><span class="line"> date_format(date,fmt) 返回按照按照字符串fmt格式化日期date的值</span><br><span class="line"> datediff(expr,expr2)  返回起始时间和结束时间的间隔天数</span><br><span class="line"> </span><br><span class="line"> curdate()  返回当前日期,按照’YYYY-MM-DD’格式</span><br><span class="line"> curtime()  返回当前时间,当前时间以&apos;HH:MM:SS&apos; </span><br><span class="line"> from_unixtime(unix_timestamp[,format])	返回unix时间的时间</span><br><span class="line"> week(date)		返回日期是一年中的第几周</span><br><span class="line"> year(date)      返回日期的年份</span><br><span class="line"> hour(time)      返回time的小时值</span><br><span class="line"> minute(time)    返回日time的分钟值</span><br><span class="line"> monthname(date) 返回date的月份</span><br><span class="line"> date_add(date,INTERVAL,expr type) 返回一个日期或者时间值加上一个时间间隔的时间值</span><br><span class="line">其他函数</span><br><span class="line"> database()    返回当前数据库名</span><br><span class="line"> password(str) 返回当前str的加密版本</span><br><span class="line"> md5(str)      返回字符串str的MD5的值</span><br><span class="line"></span><br><span class="line"> version()   返回当前服务器版本</span><br><span class="line"> user()		返回当前登陆用户名</span><br><span class="line"> inet_aton   返回当前IP地址的数字表示 inet_aton(&quot;192.168.80.250&quot;);</span><br><span class="line"> inet_ntoa(num) 返回当前数字表示的ip   inet_ntoa(3232256250);</span><br></pre></td></tr></table></figure></p>
<p>####MySQL事物处理<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">   关闭自动提交功能（开启手动事务）</span><br><span class="line">mysql&gt; set autocommit=0;</span><br><span class="line">从表t1中删除了一条记录</span><br><span class="line">mysql&gt; delete from t1 where id=11;</span><br><span class="line">此时做一个p1还原点:</span><br><span class="line">mysql&gt; savepoint p1;</span><br><span class="line">再次从表t1中删除一条记录:</span><br><span class="line">mysql&gt; delete from t1 where id=10;</span><br><span class="line">再次做一个p2还原点:</span><br><span class="line">mysql&gt; savepoint p2;</span><br><span class="line">此时恢复到p1还原点，当然后面的p2这些还原点自动会失效: </span><br><span class="line">mysql&gt; rollback to p1;</span><br><span class="line">退回到最原始的还原点:</span><br><span class="line">mysql&gt; rollback;</span><br><span class="line">回滚</span><br><span class="line">   </span><br><span class="line">   mysql&gt; commit;</span><br><span class="line">事务提交</span><br><span class="line"></span><br><span class="line">开启自动事务提交（关闭手动事务）</span><br><span class="line">mysql&gt; set autocommit=1;</span><br></pre></td></tr></table></figure></p>
<p>###mysql日志<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">开启日志： 在mysql配置文件中开启：log-bin=mysql-bin</span><br><span class="line">	</span><br><span class="line">	查看bin-log日志:</span><br><span class="line">	mysql&gt;show binary logs;</span><br><span class="line">	</span><br><span class="line">	查看最后一个bin-log日志:</span><br><span class="line">	mysql&gt;show master status;</span><br><span class="line">	</span><br><span class="line">	此时就会多一个最新的bin-log日志</span><br><span class="line">	mysql&gt;flush logs;</span><br><span class="line"></span><br><span class="line">	查看最后一个bin日志.</span><br><span class="line">	mysql&gt;show master status;</span><br><span class="line"></span><br><span class="line">	mysql&gt;reset master;</span><br><span class="line">	清空所有的bin-log日志</span><br><span class="line">	执行查看bin-log日志</span><br><span class="line"></span><br><span class="line">	备份数据:</span><br><span class="line">	mysqldump -uroot -pwei test -l -F &gt;/tmp/test.sql</span><br><span class="line">	其中：-F即flush logs，可以重新生成新的日志文件，当然包括log-bin日志 </span><br><span class="line"></span><br><span class="line">	// Linux关闭MySQL的命令</span><br><span class="line">	$mysql_dir/bin/mysqladmin -uroot -p shutdown</span><br><span class="line">	// linux启动MySQL的命令</span><br><span class="line">	$mysql_dir/bin/mysqld_safe &amp;</span><br></pre></td></tr></table></figure></p>
<p>####Mysql的触发器<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">格式：1、触发器的定义：</span><br><span class="line">  CREATE TRIGGER trigger_name trigger_time trigger_event</span><br><span class="line">	ON tbl_name FOR EACH ROW trigger_stmt</span><br><span class="line"></span><br><span class="line">  说明：</span><br><span class="line">  # trigger_name：触发器名称</span><br><span class="line">  # trigger_time:触发时间，可取值：BEFORE或AFTER</span><br><span class="line">  # trigger_event：触发事件，可取值：INSERT、UPDATE或DELETE。</span><br><span class="line">  # tb1_name：指定在哪个表上</span><br><span class="line">  # trigger_stmt：触发处理SQL语句。</span><br><span class="line"> </span><br><span class="line">示例：</span><br><span class="line">	mysql&gt; delimiter $$</span><br><span class="line">	mysql&gt; create trigger del_stu before delete on stu for each row</span><br><span class="line">		-&gt; begin</span><br><span class="line">		-&gt;  insert into stu_bak values(old.id,old.name,old.sex,old.age,old.addtime);</span><br><span class="line">		-&gt; end;</span><br><span class="line">		-&gt; $$</span><br><span class="line">	Query OK, 0 rows affected (0.05 sec)</span><br><span class="line"></span><br><span class="line">	mysql&gt; delimiter ;</span><br></pre></td></tr></table></figure></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">查询不需要事物,事物相对于增删改</span><br><span class="line">innoDB 支持主外键支持事物 增删改速度没有MySAM 快;</span><br><span class="line">MySAM </span><br><span class="line">.修改密码:</span><br><span class="line"> mysql&gt; update users set password=md5(&apos;abc&apos;) where id=6;</span><br><span class="line">数据库灾难性恢复</span><br><span class="line"> .备份 -F参数</span><br><span class="line">  mysqldump -uroot -pwei test -l -F &gt;/tmp/test.sql</span><br><span class="line">  其中：-F即flush logs，可以重新生成新的日志文件，当然包括log-bin日志 </span><br><span class="line"> .进入数据库进行操作</span><br><span class="line"> .黑数据库</span><br><span class="line"> .执行数据库日志</span><br><span class="line"> .恢复到上次备份时候</span><br><span class="line">  [root@localhost mnt]# mysql -u root -p mydemo&lt;mydemo_2017-7-26.sql </span><br><span class="line">  Enter password:</span><br><span class="line"> .进入bin-log日志 恢复操作后的数据库,使用节点操作</span><br><span class="line">  [root@localhost data]# mysqlbinlog --no-defaults mysql-bin.000009;</span><br><span class="line">  查找到恢复的节点</span><br><span class="line"> .执行bin-log日志文件，恢复最后一块的增量数据。 </span><br><span class="line">  [root@localhost data]# mysqlbinlog --no-defaults --stop-position=&quot;802&quot; mysql-bin.000009|mysql -u root -p123456 mydemo;</span><br></pre></td></tr></table></figure>
<p>##第四天</p>
<p>####MVC设计模式<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">.查看版本及使用pip安装的软件</span><br><span class="line"> pip3.6 freeze</span><br><span class="line">.查看安装的django版本</span><br><span class="line"> python3.6 -m django --version</span><br></pre></td></tr></table></figure></p>
<p>###搭建django框架的步骤<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">1.进入共享文件夹 Python03 </span><br><span class="line">2.创建文件夹 进入文件夹</span><br><span class="line">3.创建项目</span><br><span class="line">  django-admin startproject 项目名</span><br><span class="line">4.开启服务</span><br><span class="line">  python3.6 manage.py runserver 0:8000</span><br><span class="line">5.进入demo 修改权限</span><br><span class="line">  &apos;28行&apos;AllowED_HoST:[&apos;192.168.103.110&apos;]</span><br><span class="line">  如果报数据库名字报错,就对78,79行注释,因为默认的是sqlits数据库</span><br></pre></td></tr></table></figure></p>
<p>###创建视图的操作过程  视图 总路游 子路游<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">1.进入mydemo 创建项目</span><br><span class="line">  python3.6 mange.py startapp myapp</span><br><span class="line">2.进入myapp的视图文件.并且对其进行修改操作</span><br><span class="line">  from django.shortcuts import render</span><br><span class="line">  from django.http import HttpResponse  #导入文件 HttpResponse</span><br><span class="line">  #创建函数</span><br><span class="line">  def index(request):         #跳转时用request取值 </span><br><span class="line">	 return HttpResponse(&apos;Hello World!&apos;)</span><br><span class="line">3.如果拒绝保存就修改文件权限,</span><br><span class="line">  chmod 777 -R mydemo</span><br><span class="line">4.修改mydemo框架的总游标 urls.py</span><br><span class="line">  from django.conf.urls import include,url  #添加include </span><br><span class="line">  from django.contrib import admin</span><br><span class="line">  urlpatterns = [</span><br><span class="line">    url(r&apos;^admin/&apos;, admin.site.urls), #进入后台的路游</span><br><span class="line">	#include包含子目录,myapp.urls  路游文件</span><br><span class="line">    url(r&apos;^myapp/&apos;, include(&apos;myapp.urls&apos;)),</span><br><span class="line">]</span><br><span class="line">5.从mydemo复制urls.py到myapp为子游标 删除第二行</span><br><span class="line">  from django.conf.urls import url</span><br><span class="line">  #导入视图文件</span><br><span class="line">  from . import views</span><br><span class="line">  urlpatterns = [</span><br><span class="line">    url(r&apos;^aa$&apos;, views.index),  #index为视图中的函数名也可以用别名</span><br><span class="line">    </span><br><span class="line">]</span><br><span class="line">.__init__.py: 说明此目录是包</span><br><span class="line">.settings.py:是django项目的设置目录</span><br><span class="line">.404:表示地址不正确</span><br><span class="line"> admin 网站后台</span><br><span class="line"> pulls 网站前台&apos;</span><br><span class="line">.访问: 192.168.103.110&quot;8000/myapp/aa</span><br><span class="line"> 访问地址为从主路由到子路由</span><br><span class="line">.一级路游加载子路由用include</span><br></pre></td></tr></table></figure></p>
<p>####url函数<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Django url()可以接受四个参数,两个我必选参数:regex,view和两个可选参数:kwargs,name </span><br><span class="line">regex:正则表达式,与之匹配的URL会执行对应的第二个参数view</span><br><span class="line">view:用于执行正则表达式匹配的url请求</span><br><span class="line">kwargs:视图使用的字典类型参数</span><br><span class="line">name:用来反向获取URL</span><br></pre></td></tr></table></figure></p>
<p>###模型与管理网站</p>
<p>####数据库设置<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">.默认情况下,配置使用SQLite.若不使用SQLite1就修改数据库,进行额外设置.user password和host都必须加入</span><br><span class="line">.INSTALLED_APPS包含以下应用程序</span><br><span class="line"> INSTALLED_APPS = [</span><br><span class="line">    &apos;django.contrib.admin&apos;,       #管理网站</span><br><span class="line">    &apos;django.contrib.auth&apos;,         #认证系统</span><br><span class="line">    &apos;django.contrib.contenttypes&apos;,  #内容类型的框架</span><br><span class="line">    &apos;django.contrib.sessions&apos;,    #会话框架</span><br><span class="line">    &apos;django.contrib.messages&apos;,    #消息框架</span><br><span class="line">    &apos;django.contrib.staticfiles&apos;, #管理静态文件框架</span><br><span class="line">]</span><br><span class="line">1.在mydemo中settings.py,在76行DATABASES进行数据库设置</span><br><span class="line"> DATABASES = &#123;</span><br><span class="line">    &apos;default&apos;: &#123;</span><br><span class="line">        &apos;ENGINE&apos;: &apos;django.db.backends.mysql&apos;,</span><br><span class="line">        &apos;NAME&apos;: &apos;mydb&apos;,</span><br><span class="line">        &apos;USER&apos;: &apos;root&apos;,</span><br><span class="line">        &apos;PASSWORD&apos;: &apos;qwert12345&apos;,</span><br><span class="line">        &apos;HOST&apos;: &apos;localhost&apos;,</span><br><span class="line">        &apos;PORT&apos;: &apos;3306&apos;,</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">2.安装 PyMySQL pip install pymysql</span><br><span class="line">3.打开project 及mydemo __init__.py 写入以下代码</span><br><span class="line">  import pymysql</span><br><span class="line">  pymysql.install_as_MySQLdb()</span><br><span class="line">4.一个应用程序至少一个数据库表,所以要创建表</span><br><span class="line">  python manage.py migrate</span><br></pre></td></tr></table></figure></p>
<p>####创建模型<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">1.编辑polls/models.py 文件</span><br><span class="line">  from django.db import models</span><br><span class="line">  class Question(models.Model):</span><br><span class="line">    question_text = models.CharField(max_length=200)</span><br><span class="line">	text = models.CharField()</span><br><span class="line">    pub_date = models.DateTimeField(&apos;date published&apos;) #生成data</span><br></pre></td></tr></table></figure></p>
<p>####激活类型<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">1.编辑mysite/settings.py文件</span><br><span class="line">  40.在INSTALLED_APPS  =  [&apos;polls&apos;, ] 创建model的部分</span><br><span class="line">2.生产数据结构的迁移文件</span><br><span class="line">  python3.6 manage.py makemigrations polls</span><br><span class="line">3.执行迁移操作</span><br><span class="line">  python3.6 manage.py migrate</span><br></pre></td></tr></table></figure></p>
<p>###管理网站</p>
<p>####创建管理员用户<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">.创建一个可以登录管理站点的用户</span><br><span class="line"> python3.6 manage.py creatsuperuser</span><br><span class="line"> Username:admin</span><br><span class="line"> Email address:1234@qq.com</span><br><span class="line"> Password: **********</span><br><span class="line"> Password (again): *********</span><br><span class="line"> Superuser created successfully.</span><br></pre></td></tr></table></figure></p>
<p>####启动开发服务器<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">.python3.6 manage.py runserver 0:8000</span><br><span class="line">.访问:192.168.103.110/admin</span><br></pre></td></tr></table></figure></p>
<p>####设置时区语言 settings<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">113.LANGUAGE_CODE = &apos;zh-Hans&apos;</span><br><span class="line"></span><br><span class="line">114.TIME_ZONE = &apos;Asia/Shanghai&apos;</span><br></pre></td></tr></table></figure></p>
<p>####将投票应用添加到后台<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">.进入polls的admin.py文件</span><br><span class="line">from .models import Question[models中的class名]</span><br><span class="line">admin.site.register(Question)[同上]</span><br></pre></td></tr></table></figure></p>
<p>###定义模板</p>
<p>####模板语言包括<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">.变量</span><br><span class="line">.标签&#123;%代码块%&#125;</span><br><span class="line">.过滤器1</span><br><span class="line">.注释&#123;#代码或html#&#125;</span><br></pre></td></tr></table></figure></p>
<p>####变量<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">.语法</span><br><span class="line"> &#123;&#123; variable &#125;&#125;</span><br><span class="line">.当模板引擎遇到一个变量.将计算这个变量,然后将结果输出</span><br><span class="line">.当模板引擎遇到点(&quot;.&quot;),会按照以下顺序查询:</span><br><span class="line"> .字典查询,foo[&quot;bar&quot;]</span><br><span class="line"> .属性或方法查询,foo.bar</span><br><span class="line"> .数字索引查询,foo,[bar]</span><br><span class="line">.在模板中调用方法时1不能传递参数</span><br></pre></td></tr></table></figure></p>
<p>####在模板中调用对象的方法<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure></p>
<p>####标签<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">.语法:&#123;%tag%&#125;</span><br><span class="line">.作用:在输出中创建文本</span><br><span class="line">.控制循环或逻辑</span><br><span class="line">.加载外部信息到模板中供以后的变量使用</span><br><span class="line"></span><br><span class="line">.for 标签</span><br><span class="line"> &#123;% for...in... %&#125;</span><br><span class="line"> 循环逻辑</span><br><span class="line"> &#123;&#123;forloop.counter&#125;&#125; 表示当前是第几次循环</span><br><span class="line"> &#123;% empty %&#125;</span><br><span class="line"> 给出的列表或列表不存在时,执行此处</span><br><span class="line"> &#123; % endfor % &#125;</span><br><span class="line">.if标签</span><br><span class="line"> &#123; % if ... % &#125;</span><br><span class="line"> 逻辑1</span><br><span class="line"> &#123; % elif ... % &#125;</span><br><span class="line"> 逻辑2</span><br><span class="line"> &#123; % else % &#125;</span><br><span class="line"> 逻辑3</span><br><span class="line"> &#123; % endif % &#125;</span><br><span class="line"></span><br><span class="line">.comment标签多行注释</span><br><span class="line"> &#123; % comment % &#125; </span><br><span class="line"> &#123; % endcomment % &#125;</span><br><span class="line">.include:加载模板并以标签内的参数渲染</span><br><span class="line"> &#123; %include &quot;foo/bar.html&quot;% &#125;</span><br><span class="line">.url:反向解析</span><br><span class="line"> &#123; % url &apos;name&apos; p1 p2 % &#125;</span><br><span class="line"></span><br><span class="line">.csrf_token:这个标签用于跨站请求伪造保护</span><br><span class="line"> &#123; % csrf_token % &#125;</span><br><span class="line"></span><br><span class="line">.布尔标签:and,or,and比or的优先级高</span><br><span class="line">.block,extends:&apos;模板继承&apos;</span><br><span class="line">.autoescape:&apos;HTML转义&apos;</span><br></pre></td></tr></table></figure></p>
<p>###过滤器<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">.语法:&#123;&#123; 变量|过滤器 &#125;&#125;,例如&#123;&#123; name|lower &#125;&#125;,表示将变量name的值变为小写输出</span><br><span class="line">.使用管道符(|)来应用过滤器</span><br><span class="line">.通过使用过滤器来改变变量的计算结果</span><br><span class="line">.可以在if标签中使用过滤器结合运算符</span><br><span class="line"> if list1|length &gt; 1</span><br><span class="line">.过滤器能够被串联使用</span><br><span class="line"> name|lower|upper</span><br><span class="line">.过滤器可以可以传递参数,参数使用引号包起来</span><br><span class="line"> list|join:&apos;,&apos;</span><br><span class="line">.default:如果一个变量没有被提供,或者值为false,则使用默认值,否则使用变量的值</span><br><span class="line"> value|defalut:&apos;什么也没有&apos;</span><br><span class="line">.date:根据给定格式对一个date变量格式化</span><br><span class="line"> value|date:&apos;Y-m-d&apos;</span><br><span class="line">.escape:&apos;HTML转义&apos;</span><br></pre></td></tr></table></figure></p>
<p>####注释<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">.单行注释</span><br><span class="line"> &#123;#...#&#125;</span><br><span class="line">.注释可以包含任何模板代码,有效的或者无效的都可以</span><br><span class="line"> &#123;#&#123; % if foo % &#125;bar&#123; % else % &#125;#&#125;</span><br><span class="line">.使用comment标签注释模板中的多行内容</span><br><span class="line"> &#123;% comment &quot;这是模板中的多行注释&quot; %&#125;</span><br><span class="line">        &#123;% for i in list %&#125;</span><br><span class="line">           &lt;li&gt;&#123;&#123;i&#125;&#125;&lt;/li&gt;</span><br><span class="line">        &#123;% endfor %&#125;</span><br><span class="line">  &#123;% endcomment %&#125;</span><br></pre></td></tr></table></figure></p>
<p>####模板继承<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">.模板继承可以减少页面内容的重复定义,实现页面内容得重用</span><br><span class="line">.典型应用:网站头部,尾部都一样,子模板可以不需要重复定义</span><br><span class="line">.block标签:在父模板中预留区域,在子模板中填充</span><br><span class="line">.extends继承:继承,写在模板文件的第一行</span><br><span class="line">.定义父模板base.html</span><br><span class="line"> &#123; %block block_name% &#125;</span><br><span class="line"> 这里可以定义默认值,如果不定义默认值,则表示空字符串</span><br><span class="line"> &#123; %endblock% &#125;</span><br><span class="line">.定义子模板index.html</span><br><span class="line"> &#123; % extends &quot;base.html&quot;% &#125;</span><br><span class="line">.在子模板中使用block填充预留区域</span><br><span class="line"> &#123; %block block_name% &#125;</span><br><span class="line"> 实际填充内容</span><br><span class="line"> &#123; %endblock% &#125;</span><br><span class="line"></span><br><span class="line">说明:</span><br><span class="line"> *如果在模板中使用extends,它必须在模板中的第一个标签</span><br><span class="line"> *不能在一个模板中定义多个相同名字的block标签</span><br><span class="line"> *子模版不必定义全部父模版中的blocks，如果子模版没有定义block，则使用了父模版中的默认值</span><br><span class="line"> *若果发现在模板中大量的复制内容,那就应该把内容移动到父模板中</span><br><span class="line"> *使用可以获取父模板中block内容</span><br><span class="line"> *为了更好的可读性,可以给endblock标签起一个名字</span><br><span class="line">  &#123; % block block_name %&#125; 区域内容 &#123; % endblock block_name %&#125;</span><br></pre></td></tr></table></figure></p>
<p>###Django转义字符<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&lt; 会转换为 &amp;lt;</span><br><span class="line">&gt;         &amp;gt;</span><br><span class="line">&apos;&apos;        &amp;#39;</span><br><span class="line">&quot;&quot;        &amp;quot;</span><br><span class="line">&amp;         &amp;amp;</span><br><span class="line">.字符串字面值</span><br><span class="line"> 手动转义</span><br><span class="line"> &#123;&#123; data|dafult:&quot;&lt;b&gt;123&lt;/b&gt;&quot; &#125;&#125;</span><br><span class="line"> 应写为:</span><br><span class="line"> &#123;&#123; data|default:&quot;&amp;lt;b&amp;gt;123&amp;lt;/b&amp;gt;&quot;&#125;</span><br></pre></td></tr></table></figure></p>
<p>###管理静态文件<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">.项目中css,图片,js都是静态文件</span><br><span class="line">.配置静态文件</span><br><span class="line">.在settings文件中定义静态文件内容</span><br><span class="line"> STATIC_URL = &apos;/static/&apos;</span><br><span class="line"> STATIC_DTRS = [</span><br><span class="line">	os.path.join(BASE_DIR,&apos;static&apos;),</span><br><span class="line"> ]</span><br><span class="line"></span><br><span class="line">.在项目跟目录下创建static目录,再创建当前应用名称的目录</span><br><span class="line"> mysite/static/myapp</span><br><span class="line">.在模板中可以使用硬编码</span><br><span class="line"> /static/my_app/myexample.jpg</span><br><span class="line">.在编码中可以使用static编码</span><br><span class="line"> &#123; % load static from staticfiles %&#125;</span><br><span class="line">&lt;img src=&quot;&#123; % static &quot;my_app/myexample.jpg&quot; %&#125;&quot; alt=&quot;My image&quot;/&gt;</span><br></pre></td></tr></table></figure></p>
<p>###获得返回值得表达方式<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">def req(request):</span><br><span class="line">	print(&quot;你的请求方式:&quot;+request.method)</span><br><span class="line">	print(&quot;你的路游路径是:&quot; +request.path)</span><br><span class="line">	print(&quot;你请求访问的值是: &quot;+request.GET[&apos;name&apos;])</span><br><span class="line"></span><br><span class="line">	print(&apos;你请求的值是: &apos;+request.GET.get(&apos;age&apos;,&apos;20&apos;))</span><br><span class="line">	return HttpResponse(&apos;ok&apos;)</span><br></pre></td></tr></table></figure></p>
<p>####插入图片的方法<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">方法1:</span><br><span class="line">&lt;img src=&quot;/static/ad2.jpg&quot; alt=&quot;&quot; width=&quot;100%&quot;/&gt;</span><br><span class="line">方法2:</span><br><span class="line">&#123;% load static from staticfiles %&#125;</span><br><span class="line">&lt;img src=&quot;&#123;% static &apos;ad2.jpg&apos; %&#125;&quot; alt=&quot;&quot;&gt;</span><br></pre></td></tr></table></figure></p>
<p>###模板继承实例<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">base.html页面:</span><br><span class="line">&lt;div id=&quot;header&quot;&gt;header&lt;/div&gt;</span><br><span class="line"></span><br><span class="line">&lt;div id=&quot;main&quot;&gt;</span><br><span class="line">	&#123;%block main%&#125;</span><br><span class="line">	&#123;%endblock main%&#125;		</span><br><span class="line">    &lt;hr/&gt;</span><br><span class="line">	&#123;%block main2%&#125;</span><br><span class="line"></span><br><span class="line">	&#123;%endblock main2%&#125;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line"></span><br><span class="line">&lt;div id=&quot;footer&quot;&gt;footer&lt;/div&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">main.html页面:</span><br><span class="line"></span><br><span class="line">&#123;%extends &apos;myapp/base.html&apos;%&#125;</span><br><span class="line"></span><br><span class="line">&#123;%block main%&#125;</span><br><span class="line">	&lt;h1&gt;sunk is a good man&lt;/h1&gt;</span><br><span class="line">&#123;%endblock main%&#125;</span><br><span class="line"></span><br><span class="line">&#123;%block main2%&#125;</span><br><span class="line">	&lt;h1&gt;hello world&lt;/h1&gt;</span><br><span class="line">&#123;%endblock main2%&#125;</span><br><span class="line"></span><br><span class="line">views.py层写入</span><br><span class="line">def index(request):</span><br><span class="line">	context=&#123;&#125;</span><br><span class="line">	return render(request,&apos;myapp/main.html&apos;,context)</span><br><span class="line"></span><br><span class="line">urls.py 子路由写入:</span><br><span class="line">url(r&apos;^$&apos;, views.index,name=&apos;index&apos;),</span><br></pre></td></tr></table></figure></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2017/11/26/MySql/" data-id="cjaghm3ma0001h4v1dcvong7f" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-hello-world" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/11/26/hello-world/" class="article-date">
  <time datetime="2017-11-26T07:24:11.476Z" itemprop="datePublished">2017-11-26</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/11/26/hello-world/">Hello World</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>Welcome to <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/" target="_blank" rel="noopener">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html" target="_blank" rel="noopener">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues" target="_blank" rel="noopener">GitHub</a>.</p>
<h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">"My New Post"</span></span><br></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/writing.html" target="_blank" rel="noopener">Writing</a></p>
<h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/server.html" target="_blank" rel="noopener">Server</a></p>
<h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/generating.html" target="_blank" rel="noopener">Generating</a></p>
<h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/deployment.html" target="_blank" rel="noopener">Deployment</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2017/11/26/hello-world/" data-id="cjaghm3mf0003h4v1wba6exx0" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-django留言板" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/05/22/django留言板/" class="article-date">
  <time datetime="2017-05-22T08:17:37.000Z" itemprop="datePublished">2017-05-22</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/05/22/django留言板/">django留言板</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>本文使用django实现一个留言板功能，代码环境为：</p>
<ul>
<li>windows10</li>
<li>python3.5</li>
<li>django1.10</li>
</ul>
<p>开发工具：</p>
<ul>
<li>pycharm</li>
</ul>
        
          <p class="article-more-link">
            <a href="/2017/05/22/django留言板/#more">Read More</a>
          </p>
        
      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2017/05/22/django留言板/" data-id="cjaghm3md0002h4v1nur3kzuc" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/django/">django</a></li></ul>

    </footer>
  </div>
  
</article>


  

</section>
        
          <aside id="sidebar">
  
    

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/django/">django</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/django/" style="font-size: 10px;">django</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/11/">November 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/05/">May 2017</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2017/11/26/Scrapy/">(no title)</a>
          </li>
        
          <li>
            <a href="/2017/11/26/linux总结/">(no title)</a>
          </li>
        
          <li>
            <a href="/2017/11/26/MySql/">(no title)</a>
          </li>
        
          <li>
            <a href="/2017/11/26/hello-world/">Hello World</a>
          </li>
        
          <li>
            <a href="/2017/05/22/django留言板/">django留言板</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2017 John Doe<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>

  </div>
</body>
</html>